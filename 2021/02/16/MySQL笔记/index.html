<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="MySQL笔记1、sql、DB、DBMS？DB:      DataBase（数据库，数据库实际上在硬盘上以文件的形式存在） DBMS:      DataBase Management System（数据库管理系统，常见的有：MySQL Oracle DB2 Sybase SqlServer...）  SQL:      结构化查询语言，是一门标准通用的语言。标准的sql适合于所有的数据库产品。">
<meta property="og:type" content="article">
<meta property="og:title" content="MySQL学习笔记">
<meta property="og:url" content="http://yoursite.com/2021/02/16/MySQL%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="ZSH">
<meta property="og:description" content="MySQL笔记1、sql、DB、DBMS？DB:      DataBase（数据库，数据库实际上在硬盘上以文件的形式存在） DBMS:      DataBase Management System（数据库管理系统，常见的有：MySQL Oracle DB2 Sybase SqlServer...）  SQL:      结构化查询语言，是一门标准通用的语言。标准的sql适合于所有的数据库产品。">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2021-02-16T14:11:30.000Z">
<meta property="article:modified_time" content="2022-08-03T13:45:52.620Z">
<meta property="article:author" content="ZSH">
<meta property="article:tag" content="MySql">
<meta name="twitter:card" content="summary">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>MySQL学习笔记</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
<meta name="generator" content="Hexo 6.2.0"><link rel="alternate" href="/atom.xml" title="ZSH" type="application/atom+xml">
</head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="Menu"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="Menu"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="Top" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/about/">About</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="http://github.com/probberechts">Projects</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" aria-label="Previous post" href="/2022/07/29/%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85%E6%89%8B%E5%86%8C/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" aria-label="Next post" href="/2020/02/05/%E8%AE%A1%E8%92%9C%E5%AE%A2-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E6%97%A5%E6%9C%9F/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="Back to top" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="Share post" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://yoursite.com/2021/02/16/MySQL%E7%AC%94%E8%AE%B0/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://yoursite.com/2021/02/16/MySQL%E7%AC%94%E8%AE%B0/&text=MySQL学习笔记"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://yoursite.com/2021/02/16/MySQL%E7%AC%94%E8%AE%B0/&title=MySQL学习笔记"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://yoursite.com/2021/02/16/MySQL%E7%AC%94%E8%AE%B0/&is_video=false&description=MySQL学习笔记"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=MySQL学习笔记&body=Check out this article: http://yoursite.com/2021/02/16/MySQL%E7%AC%94%E8%AE%B0/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://yoursite.com/2021/02/16/MySQL%E7%AC%94%E8%AE%B0/&title=MySQL学习笔记"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://yoursite.com/2021/02/16/MySQL%E7%AC%94%E8%AE%B0/&title=MySQL学习笔记"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://yoursite.com/2021/02/16/MySQL%E7%AC%94%E8%AE%B0/&title=MySQL学习笔记"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://yoursite.com/2021/02/16/MySQL%E7%AC%94%E8%AE%B0/&title=MySQL学习笔记"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://yoursite.com/2021/02/16/MySQL%E7%AC%94%E8%AE%B0/&name=MySQL学习笔记&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://yoursite.com/2021/02/16/MySQL%E7%AC%94%E8%AE%B0/&t=MySQL学习笔记"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#MySQL%E7%AC%94%E8%AE%B0"><span class="toc-number">1.</span> <span class="toc-text">MySQL笔记</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81sql%E3%80%81DB%E3%80%81DBMS%EF%BC%9F"><span class="toc-number">1.0.1.</span> <span class="toc-text">1、sql、DB、DBMS？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AF%E8%A1%A8%EF%BC%9F"><span class="toc-number">1.0.2.</span> <span class="toc-text">2、什么是表？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81SQL%E8%AF%AD%E5%8F%A5%E5%88%86%E7%B1%BB"><span class="toc-number">1.0.3.</span> <span class="toc-text">3、SQL语句分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81MySQL%E5%91%BD%E4%BB%A4"><span class="toc-number">1.0.4.</span> <span class="toc-text">4、MySQL命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E3%80%81%E5%AF%BC%E5%85%A5%E6%95%B0%E6%8D%AE"><span class="toc-number">1.0.4.1.</span> <span class="toc-text">1、导入数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%E3%80%81sql%E8%84%9A%E6%9C%AC"><span class="toc-number">1.0.4.2.</span> <span class="toc-text">2、sql脚本</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%E3%80%81%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">1.0.4.3.</span> <span class="toc-text">3、删除数据库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4%E3%80%81%E6%9F%A5%E7%9C%8B%E8%A1%A8%E7%BB%93%E6%9E%84%EF%BC%9A"><span class="toc-number">1.0.4.4.</span> <span class="toc-text">4、查看表结构：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5%E3%80%81%E8%A1%A8%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%EF%BC%9F"><span class="toc-number">1.0.4.5.</span> <span class="toc-text">5、表中的数据？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6%E3%80%81%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%EF%BC%9F"><span class="toc-number">1.0.4.6.</span> <span class="toc-text">6、常用命令？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7%E3%80%81%E6%9F%A5%E7%9C%8B%E5%88%9B%E5%BB%BA%E8%A1%A8%E7%9A%84%E8%AF%AD%E5%8F%A5%EF%BC%9A"><span class="toc-number">1.0.4.7.</span> <span class="toc-text">7、查看创建表的语句：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%E3%80%81SQL%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.0.5.</span> <span class="toc-text">5、SQL语句</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5-1%E3%80%81%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2%E8%AF%AD%E5%8F%A5%EF%BC%88DQL%EF%BC%89"><span class="toc-number">1.0.5.1.</span> <span class="toc-text">5.1、数据查询语句（DQL）</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81%E7%AE%80%E5%8D%95%E7%9A%84%E6%9F%A5%E8%AF%A2%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.0.5.1.1.</span> <span class="toc-text">1、简单的查询语句</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2%E3%80%82"><span class="toc-number">1.0.5.1.2.</span> <span class="toc-text">2、条件查询。</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81%E6%8E%92%E5%BA%8F%EF%BC%88%E5%8D%87%E5%BA%8F%E3%80%81%E9%99%8D%E5%BA%8F%EF%BC%89"><span class="toc-number">1.0.5.1.3.</span> <span class="toc-text">3、排序（升序、降序）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%E3%80%81%E5%88%86%E7%BB%84%E5%87%BD%E6%95%B0"><span class="toc-number">1.0.5.1.4.</span> <span class="toc-text">4、分组函数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5%E3%80%81%E5%8D%95%E8%A1%8C%E5%A4%84%E7%90%86%E5%87%BD%E6%95%B0"><span class="toc-number">1.0.5.1.5.</span> <span class="toc-text">5、单行处理函数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6%E3%80%81group-by-%E5%92%8C-having"><span class="toc-number">1.0.5.1.6.</span> <span class="toc-text">6、group by 和 having</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#7%E3%80%81%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%AA%E5%AE%8C%E6%95%B4%E7%9A%84DQL%E8%AF%AD%E5%8F%A5%E6%80%8E%E4%B9%88%E5%86%99%EF%BC%9F"><span class="toc-number">1.0.5.1.7.</span> <span class="toc-text">7、总结一个完整的DQL语句怎么写？</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#8%E3%80%81%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%E9%9B%86%E5%8E%BB%E9%87%8D"><span class="toc-number">1.0.5.1.8.</span> <span class="toc-text">8、查询结果集去重</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#9%E3%80%81%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.0.5.1.9.</span> <span class="toc-text">9、连接查询</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#10%E3%80%81%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.0.5.1.10.</span> <span class="toc-text">10、子查询</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#11%E3%80%81union"><span class="toc-number">1.0.5.1.11.</span> <span class="toc-text">11、union</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#12%E3%80%81limit-%EF%BC%88%E9%87%8D%E7%82%B9%EF%BC%89"><span class="toc-number">1.0.5.1.12.</span> <span class="toc-text">12、limit （重点）</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-2%E3%80%81%E6%95%B0%E6%8D%AE%E5%AE%9A%E4%B9%89%E8%AF%AD%E8%A8%80%EF%BC%88DDL%EF%BC%89"><span class="toc-number">1.0.5.2.</span> <span class="toc-text">5.2、数据定义语言（DDL）</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81%E5%88%9B%E5%BB%BA%E8%A1%A8"><span class="toc-number">1.0.5.2.1.</span> <span class="toc-text">1、创建表</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81%E5%AF%B9%E4%BA%8E%E8%A1%A8%E7%BB%93%E6%9E%84%E7%9A%84%E4%BF%AE%E6%94%B9"><span class="toc-number">1.0.5.2.2.</span> <span class="toc-text">2、对于表结构的修改</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81%E7%BA%A6%E6%9D%9F-Constraint"><span class="toc-number">1.0.5.2.3.</span> <span class="toc-text">3、约束(Constraint)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%E3%80%81%E5%88%A0%E9%99%A4%E8%A1%A8"><span class="toc-number">1.0.5.2.4.</span> <span class="toc-text">4、删除表</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-3%E3%80%81%E6%95%B0%E6%8D%AE%E6%93%8D%E4%BD%9C%E8%AF%AD%E8%A8%80%EF%BC%88DML%EF%BC%89"><span class="toc-number">1.0.5.3.</span> <span class="toc-text">5.3、数据操作语言（DML）</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81insert%E8%AF%AD%E5%8F%A5%E6%8F%92%E5%85%A5%E6%95%B0%E6%8D%AE"><span class="toc-number">1.0.5.3.1.</span> <span class="toc-text">1、insert语句插入数据</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81%E8%A1%A8%E7%9A%84%E5%A4%8D%E5%88%B6"><span class="toc-number">1.0.5.3.2.</span> <span class="toc-text">2、表的复制</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81%E5%B0%86%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%E6%8F%92%E5%85%A5%E5%88%B0%E4%B8%80%E5%BC%A0%E8%A1%A8%E4%B8%AD"><span class="toc-number">1.0.5.3.3.</span> <span class="toc-text">3、将查询结果插入到一张表中</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%E3%80%81%E4%BF%AE%E6%94%B9%E6%95%B0%E6%8D%AE%EF%BC%9Aupdate"><span class="toc-number">1.0.5.3.4.</span> <span class="toc-text">4、修改数据：update</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5%E3%80%81%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE"><span class="toc-number">1.0.5.3.5.</span> <span class="toc-text">5、删除数据</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6%E3%80%81%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E%EF%BC%88%E4%BA%86%E8%A7%A3%E5%86%85%E5%AE%B9%EF%BC%89"><span class="toc-number">1.0.6.</span> <span class="toc-text">6、存储引擎（了解内容）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#6-1%E3%80%81%E9%9D%A2%E8%AF%95%E9%A2%98"><span class="toc-number">1.0.6.1.</span> <span class="toc-text">6.1、面试题</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7%E3%80%81%E4%BA%8B%E5%8A%A1%EF%BC%88Transaction%EF%BC%89"><span class="toc-number">1.0.7.</span> <span class="toc-text">7、事务（Transaction）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8%E3%80%81%E7%B4%A2%E5%BC%95"><span class="toc-number">1.0.8.</span> <span class="toc-text">8、索引</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9%E3%80%81%E8%A7%86%E5%9B%BE-view"><span class="toc-number">1.0.9.</span> <span class="toc-text">9、视图(view)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10%E3%80%81DBA%E5%91%BD%E4%BB%A4%EF%BC%88DCL%EF%BC%89"><span class="toc-number">1.0.10.</span> <span class="toc-text">10、DBA命令（DCL）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E4%B8%89%E8%8C%83%E5%BC%8F%EF%BC%88%E9%87%8D%E7%82%B9%E5%86%85%E5%AE%B9%EF%BC%8C%E9%9D%A2%E8%AF%95%E7%BB%8F%E5%B8%B8%E9%97%AE%EF%BC%89"><span class="toc-number">1.0.11.</span> <span class="toc-text">11、数据库设计三范式（重点内容，面试经常问）</span></a></li></ol></li></ol></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        MySQL学习笔记
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">ZSH</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2021-02-16T14:11:30.000Z" itemprop="datePublished">2021-02-16</time>
        
      
    </div>


      
    <div class="article-category">
        <i class="fas fa-archive"></i>
        <a class="category-link" href="/categories/MySql/">MySql</a>
    </div>


      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link-link" href="/tags/MySql/" rel="tag">MySql</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <h1 id="MySQL笔记"><a href="#MySQL笔记" class="headerlink" title="MySQL笔记"></a>MySQL笔记</h1><h3 id="1、sql、DB、DBMS？"><a href="#1、sql、DB、DBMS？" class="headerlink" title="1、sql、DB、DBMS？"></a>1、sql、DB、DBMS？</h3><pre><code>DB: 
    DataBase（数据库，数据库实际上在硬盘上以文件的形式存在）
DBMS: 
    DataBase Management System（数据库管理系统，常见的有：MySQL Oracle DB2 Sybase SqlServer...）

SQL: 
    结构化查询语言，是一门标准通用的语言。标准的sql适合于所有的数据库产品。
    SQL属于高级语言。只要能看懂英语单词的，写出来的sql语句，可以读懂什么意思。
    SQL语句在执行的时候，实际上内部也会先进行编译，然后再执行sql。（sql语句的编译由DBMS完成。）

DBMS负责执行sql语句，通过执行sql语句来操作DB当中的数据。
DBMS -(执行)-&gt; SQL -(操作)-&gt; DB
</code></pre>
<h3 id="2、什么是表？"><a href="#2、什么是表？" class="headerlink" title="2、什么是表？"></a>2、什么是表？</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">表：table是数据库的基本组成单元，所有的数据都以表格的形式组织，目的是可读性强。</span><br><span class="line">一个表包括行和列：</span><br><span class="line">	行：被称为 数据/记录(data)</span><br><span class="line">	列：被称为 字段(column)</span><br><span class="line">	</span><br><span class="line">学号(int)	姓名(varchar)	年龄(int)</span><br><span class="line">------------------------------------</span><br><span class="line">110			张三				20</span><br><span class="line">120			李四				21</span><br><span class="line"></span><br><span class="line">每一个字段应该包括哪些属性？</span><br><span class="line">	字段名（学号）、数据类型（int）、相关的约束（是否缺省）。</span><br></pre></td></tr></table></figure>



<h3 id="3、SQL语句分类"><a href="#3、SQL语句分类" class="headerlink" title="3、SQL语句分类"></a>3、SQL语句分类</h3><p>​	DQL（数据查询语言）: 查询语句，凡是<code>select</code>语句都是DQL。<br>​	DML（数据操作语言）：<code>insert delete update</code>，对<strong>表当中的数据</strong>进行增删改。<br>​	DDL（数据定义语言）：<code>create drop alter</code>，对<strong>表结构</strong>的增删改。<br>​	TCL（事务控制语言）：<code>commit</code>提交事务，<code>rollback</code> 回滚事务。(TCL中的T是Transaction)<br>​	DCL（数据控制语言）: <code>grant</code>授权、<code>revoke</code>撤销权限等。</p>
<h3 id="4、MySQL命令"><a href="#4、MySQL命令" class="headerlink" title="4、MySQL命令"></a>4、MySQL命令</h3><h4 id="1、导入数据"><a href="#1、导入数据" class="headerlink" title="1、导入数据"></a>1、导入数据</h4><p>​	第一步：登录mysql数据库管理系统</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dos命令窗口：</span><br><span class="line">	mysql -uroot -p333</span><br></pre></td></tr></table></figure>
<p>​	第二步：查看有哪些数据库</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">show databases; (这个不是SQL语句，属于MySQL的命令。)</span><br><span class="line">+--------------------+</span><br><span class="line">| Database           |</span><br><span class="line">+--------------------+</span><br><span class="line">| information_schema |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">| test               |</span><br><span class="line">+--------------------+</span><br></pre></td></tr></table></figure>
<p>​	第三步：创建属于我们自己的数据库</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create database bjpowernode; (这个不是SQL语句，属于MySQL的命令。)</span><br></pre></td></tr></table></figure>
<p>​	第四步：使用bjpowernode数据</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use bjpowernode; (这个不是SQL语句，属于MySQL的命令。)</span><br></pre></td></tr></table></figure>
<p>第五步：查看当前使用的数据库中有哪些表？</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show tables; (这个不是SQL语句，属于MySQL的命令。)</span><br></pre></td></tr></table></figure>
<p>​	第六步：初始化数据</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; source D:\course\05-MySQL\resources\bjpowernode.sql</span><br><span class="line">注意：数据初始化完成之后，有三张表：</span><br><span class="line">+-----------------------+</span><br><span class="line">| Tables_in_bjpowernode |</span><br><span class="line">+-----------------------+</span><br><span class="line">| dept                  |</span><br><span class="line">| emp                   |</span><br><span class="line">| salgrade              |</span><br><span class="line">+-----------------------+</span><br></pre></td></tr></table></figure>

<h4 id="2、sql脚本"><a href="#2、sql脚本" class="headerlink" title="2、sql脚本"></a>2、sql脚本</h4><p>bjpowernode.sql，这个文件以sql结尾，这样的文件被称为“sql脚本”。什么是sql脚本呢？</p>
<p>​	当一个文件的扩展名是.sql，并且该文件中编写了大量的sql语句，我们称这样的文件为sql脚本。<br>​	注意：直接使用source命令可以执行sql脚本。<br>​	sql脚本中的数据量太大的时候，无法打开，请使用source命令完成初始化。</p>
<h4 id="3、删除数据库"><a href="#3、删除数据库" class="headerlink" title="3、删除数据库"></a>3、删除数据库</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drop database bjpowernode;</span><br></pre></td></tr></table></figure>

<h4 id="4、查看表结构："><a href="#4、查看表结构：" class="headerlink" title="4、查看表结构："></a>4、查看表结构：</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; use bjpowernode;</span><br><span class="line">mysql&gt; show tables;</span><br><span class="line">+-----------------------+</span><br><span class="line">| Tables_in_bjpowernode |</span><br><span class="line">+-----------------------+</span><br><span class="line">| dept                  |   (部门表)</span><br><span class="line">| emp                   |   (员工表)</span><br><span class="line">| salgrade              |   (工资等级表)</span><br><span class="line">+-----------------------+</span><br><span class="line"></span><br><span class="line">mysql&gt; desc dept;  #查看表结构(部门表)</span><br><span class="line">+--------+-------------+------+-----+---------+-------+</span><br><span class="line">| Field  | Type        | Null | Key | Default | Extra |</span><br><span class="line">+--------+-------------+------+-----+---------+-------+</span><br><span class="line">| DEPTNO | int(2)      | NO   | PRI | NULL    |       |		部门编号</span><br><span class="line">| DNAME  | varchar(14) | YES  |     | NULL    |       |		部门名称</span><br><span class="line">| LOC    | varchar(13) | YES  |     | NULL    |       |		部门位置</span><br><span class="line">+--------+-------------+------+-----+---------+-------+</span><br></pre></td></tr></table></figure>

<h4 id="5、表中的数据？"><a href="#5、表中的数据？" class="headerlink" title="5、表中的数据？"></a>5、表中的数据？</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from emp;#查看表中数据(部门表)</span><br><span class="line">+-------+--------+-----------+------+------------+---------+---------+--------+</span><br><span class="line">| EMPNO | ENAME  | JOB       | MGR  | HIREDATE   | SAL     | COMM    | DEPTNO |</span><br><span class="line">+-------+--------+-----------+------+------------+---------+---------+--------+</span><br><span class="line">|  7369 | SMITH  | CLERK     | 7902 | 1980-12-17 |  800.00 |    NULL |     20 |</span><br><span class="line">|  7499 | ALLEN  | SALESMAN  | 7698 | 1981-02-20 | 1600.00 |  300.00 |     30 |</span><br><span class="line">|  7521 | WARD   | SALESMAN  | 7698 | 1981-02-22 | 1250.00 |  500.00 |     30 |</span><br><span class="line">|  7566 | JONES  | MANAGER   | 7839 | 1981-04-02 | 2975.00 |    NULL |     20 |</span><br><span class="line">|  7654 | MARTIN | SALESMAN  | 7698 | 1981-09-28 | 1250.00 | 1400.00 |     30 |</span><br><span class="line">|  7698 | BLAKE  | MANAGER   | 7839 | 1981-05-01 | 2850.00 |    NULL |     30 |</span><br><span class="line">|  7782 | CLARK  | MANAGER   | 7839 | 1981-06-09 | 2450.00 |    NULL |     10 |</span><br><span class="line">|  7788 | SCOTT  | ANALYST   | 7566 | 1987-04-19 | 3000.00 |    NULL |     20 |</span><br><span class="line">|  7839 | KING   | PRESIDENT | NULL | 1981-11-17 | 5000.00 |    NULL |     10 |</span><br><span class="line">|  7844 | TURNER | SALESMAN  | 7698 | 1981-09-08 | 1500.00 |    0.00 |     30 |</span><br><span class="line">|  7876 | ADAMS  | CLERK     | 7788 | 1987-05-23 | 1100.00 |    NULL |     20 |</span><br><span class="line">|  7900 | JAMES  | CLERK     | 7698 | 1981-12-03 |  950.00 |    NULL |     30 |</span><br><span class="line">|  7902 | FORD   | ANALYST   | 7566 | 1981-12-03 | 3000.00 |    NULL |     20 |</span><br><span class="line">|  7934 | MILLER | CLERK     | 7782 | 1982-01-23 | 1300.00 |    NULL |     10 |</span><br><span class="line">+-------+--------+-----------+------+------------+---------+---------+--------+</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from dept;#查看表中数据(员工表)</span><br><span class="line">+--------+------------+----------+</span><br><span class="line">| DEPTNO | DNAME      | LOC      |</span><br><span class="line">+--------+------------+----------+</span><br><span class="line">|     10 | ACCOUNTING | NEW YORK |</span><br><span class="line">|     20 | RESEARCH   | DALLAS   |</span><br><span class="line">|     30 | SALES      | CHICAGO  |</span><br><span class="line">|     40 | OPERATIONS | BOSTON   |</span><br><span class="line">+--------+------------+----------+</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from salgrade;#查看表中数据(工资等级表)</span><br><span class="line">+-------+-------+-------+</span><br><span class="line">| GRADE | LOSAL | HISAL |</span><br><span class="line">+-------+-------+-------+</span><br><span class="line">|     1 |   700 |  1200 |</span><br><span class="line">|     2 |  1201 |  1400 |</span><br><span class="line">|     3 |  1401 |  2000 |</span><br><span class="line">|     4 |  2001 |  3000 |</span><br><span class="line">|     5 |  3001 |  9999 |</span><br><span class="line">+-------+-------+-------+</span><br></pre></td></tr></table></figure>

<h4 id="6、常用命令？"><a href="#6、常用命令？" class="headerlink" title="6、常用命令？"></a>6、常用命令？</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select database(); #查看当前使用的是哪个数据库</span><br><span class="line">+-------------+</span><br><span class="line">| database()  |</span><br><span class="line">+-------------+</span><br><span class="line">| bjpowernode |</span><br><span class="line">+-------------+</span><br><span class="line"></span><br><span class="line">mysql&gt; select version(); #查看mysql的版本号。</span><br><span class="line">+-----------+</span><br><span class="line">| version() |</span><br><span class="line">+-----------+</span><br><span class="line">| 5.5.62    |</span><br><span class="line">+-----------+</span><br><span class="line"></span><br><span class="line">\c   #mysql命令，结束一条语句。</span><br><span class="line">exit #mysql命令，退出mysql。</span><br></pre></td></tr></table></figure>

<h4 id="7、查看创建表的语句："><a href="#7、查看创建表的语句：" class="headerlink" title="7、查看创建表的语句："></a>7、查看创建表的语句：</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show create table emp;</span><br></pre></td></tr></table></figure>

<p>​	</p>
<h3 id="5、SQL语句"><a href="#5、SQL语句" class="headerlink" title="5、SQL语句"></a>5、SQL语句</h3><p>sql语句不区分大小写，但是表中的数据是有大小写区分的，虽然mysql中用小写也能查询出大写的数据，但是对于Oracle来说是严格区分大小写的，用小写查不出大写数据。相对来说MySQL的语法是松散的不那么严格</p>
<h4 id="5-1、数据查询语句（DQL）"><a href="#5-1、数据查询语句（DQL）" class="headerlink" title="5.1、数据查询语句（DQL）"></a>5.1、数据查询语句（DQL）</h4><h5 id="1、简单的查询语句"><a href="#1、简单的查询语句" class="headerlink" title="1、简单的查询语句"></a>1、简单的查询语句</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line">语法格式：</span><br><span class="line">	select 字段名1,字段名2,字段名3,.... from 表名;</span><br><span class="line"></span><br><span class="line">提示：</span><br><span class="line">	1、任何一条sql语句以“;”结尾。</span><br><span class="line">	2、sql语句不区分大小写。</span><br><span class="line"></span><br><span class="line">查询员工的年薪？（字段可以参与数学运算。）</span><br><span class="line">select ename,sal * 12 from emp;</span><br><span class="line">	+--------+----------+</span><br><span class="line">	| ename  | sal * 12 |</span><br><span class="line">	+--------+----------+</span><br><span class="line">	| SMITH  |  9600.00 |</span><br><span class="line">	| ALLEN  | 19200.00 |</span><br><span class="line">	| WARD   | 15000.00 |</span><br><span class="line">	| JONES  | 35700.00 |</span><br><span class="line">	| MARTIN | 15000.00 |</span><br><span class="line">	| BLAKE  | 34200.00 |</span><br><span class="line">	| CLARK  | 29400.00 |</span><br><span class="line">	| SCOTT  | 36000.00 |</span><br><span class="line">	| KING   | 60000.00 |</span><br><span class="line">	| TURNER | 18000.00 |</span><br><span class="line">	| ADAMS  | 13200.00 |</span><br><span class="line">	| JAMES  | 11400.00 |</span><br><span class="line">	| FORD   | 36000.00 |</span><br><span class="line">	| MILLER | 15600.00 |</span><br><span class="line">	+--------+----------+</span><br><span class="line"></span><br><span class="line">给查询结果的列重命名？</span><br><span class="line">select ename,sal * 12 as yearsal from emp;</span><br><span class="line"></span><br><span class="line">别名中有中文？</span><br><span class="line">select ename,sal * 12 as 年薪 from emp; # 错误</span><br><span class="line">select ename,sal * 12 as &#x27;年薪&#x27; from emp;</span><br><span class="line">#可以使用中文但是必须用字符串表示，sql中的字符串使用单引号虽然在mysql当中可以使用双引号但是为了通用性要使用单引号</span><br><span class="line">#注意：标准sql语句中要求字符串使用单引号括起来。虽然mysql支持双引号，尽量别用。</span><br><span class="line">	+--------+----------+</span><br><span class="line">	| ename  | 年薪        |</span><br><span class="line">	+--------+----------+</span><br><span class="line">	| SMITH  |  9600.00 |</span><br><span class="line">	| ALLEN  | 19200.00 |</span><br><span class="line">	| WARD   | 15000.00 |</span><br><span class="line">	| JONES  | 35700.00 |</span><br><span class="line">	| MARTIN | 15000.00 |</span><br><span class="line">	| BLAKE  | 34200.00 |</span><br><span class="line">	| CLARK  | 29400.00 |</span><br><span class="line">	| SCOTT  | 36000.00 |</span><br><span class="line">	| KING   | 60000.00 |</span><br><span class="line">	| TURNER | 18000.00 |</span><br><span class="line">	| ADAMS  | 13200.00 |</span><br><span class="line">	| JAMES  | 11400.00 |</span><br><span class="line">	| FORD   | 36000.00 |</span><br><span class="line">	| MILLER | 15600.00 |</span><br><span class="line">	+--------+----------+</span><br><span class="line"></span><br><span class="line">as关键字可以省略？</span><br><span class="line">mysql&gt; select empno,ename,sal * 12 yearsal from emp;</span><br><span class="line">	+-------+--------+----------+</span><br><span class="line">	| empno | ename  | yearsal  |</span><br><span class="line">	+-------+--------+----------+</span><br><span class="line">	|  7369 | SMITH  |  9600.00 |</span><br><span class="line">	|  7499 | ALLEN  | 19200.00 |</span><br><span class="line">	|  7521 | WARD   | 15000.00 |</span><br><span class="line">	|  7566 | JONES  | 35700.00 |</span><br><span class="line">	|  7654 | MARTIN | 15000.00 |</span><br><span class="line">	|  7698 | BLAKE  | 34200.00 |</span><br><span class="line">	|  7782 | CLARK  | 29400.00 |</span><br><span class="line">	|  7788 | SCOTT  | 36000.00 |</span><br><span class="line">	|  7839 | KING   | 60000.00 |</span><br><span class="line">	|  7844 | TURNER | 18000.00 |</span><br><span class="line">	|  7876 | ADAMS  | 13200.00 |</span><br><span class="line">	|  7900 | JAMES  | 11400.00 |</span><br><span class="line">	|  7902 | FORD   | 36000.00 |</span><br><span class="line">	|  7934 | MILLER | 15600.00 |</span><br><span class="line">	+-------+--------+----------+</span><br><span class="line"></span><br><span class="line">查询所有字段？</span><br><span class="line">select * from emp; // 实际开发中不建议使用*，效率较低。</span><br></pre></td></tr></table></figure>

<h5 id="2、条件查询。"><a href="#2、条件查询。" class="headerlink" title="2、条件查询。"></a>2、条件查询。</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br></pre></td><td class="code"><pre><span class="line">语法格式：</span><br><span class="line">select 字段名1,字段名2,... from 表名 where 条件;</span><br><span class="line">执行顺序：先 from，然后 where，最后 select</span><br><span class="line"></span><br><span class="line">查询工资等于5000的员工姓名？</span><br><span class="line">select ename from emp where sal = 5000;</span><br><span class="line">	+-------+</span><br><span class="line">	| ename |</span><br><span class="line">	+-------+</span><br><span class="line">	| KING  |</span><br><span class="line">	+-------+</span><br><span class="line">	</span><br><span class="line">查询SMITH的工资？</span><br><span class="line">select sal from emp where ename = &#x27;SMITH&#x27;;#字符串使用单引号括起来。SMITH是一个varchar字符串</span><br><span class="line">	+--------+</span><br><span class="line">	| sal    |</span><br><span class="line">	+--------+</span><br><span class="line">	| 800.00 |</span><br><span class="line">	+--------+</span><br><span class="line">找出工资高于3000的员工？</span><br><span class="line">select ename,sal from emp where sal &gt; 3000;</span><br><span class="line">select ename,sal from emp where sal &gt;= 3000;</span><br><span class="line">select ename,sal from emp where sal &lt; 3000;</span><br><span class="line">select ename,sal from emp where sal &lt;= 3000;</span><br><span class="line"></span><br><span class="line">找出工资不等于3000的？</span><br><span class="line">select ename,sal from emp where sal &lt;&gt; 3000;</span><br><span class="line">select ename,sal from emp where sal != 3000;</span><br><span class="line"></span><br><span class="line">找出工资在1100和3000之间的员工，包括1100和3000？</span><br><span class="line">select ename,sal from emp where sal &gt;= 1100 and sal &lt;= 3000;</span><br><span class="line">select ename,sal from emp where sal between 1100 and 3000; # between...and...是闭区间 [1100 ~ 3000]</span><br><span class="line">select ename,sal from emp where sal between 3000 and 1100; # 查询不到任何数据</span><br><span class="line">between and #在使用的时候必须左小右大。</span><br><span class="line">between and #除了可以使用在数字方面之外，还可以使用在字符串方面。</span><br><span class="line">select ename from emp where ename between &#x27;A&#x27; and &#x27;C&#x27;;</span><br><span class="line">	+-------+</span><br><span class="line">	| ename |</span><br><span class="line">	+-------+</span><br><span class="line">	| ALLEN |</span><br><span class="line">	| BLAKE |</span><br><span class="line">	| ADAMS |</span><br><span class="line">	+-------+</span><br><span class="line">select ename from emp where ename between &#x27;A&#x27; and &#x27;D&#x27;; #左闭右开。</span><br><span class="line"></span><br><span class="line">找出哪些人津贴为NULL？</span><br><span class="line">	在数据库当中NULL不是一个值，代表什么也没有，为空。</span><br><span class="line">	空不是一个值，不能用等号衡量。</span><br><span class="line">	必须使用 is null或者is not null</span><br><span class="line">select ename,sal,comm from emp where comm is null;</span><br><span class="line">		+--------+---------+------+</span><br><span class="line">		| ename  | sal     | comm |</span><br><span class="line">		+--------+---------+------+</span><br><span class="line">		| SMITH  |  800.00 | NULL |</span><br><span class="line">		| JONES  | 2975.00 | NULL |</span><br><span class="line">		| BLAKE  | 2850.00 | NULL |</span><br><span class="line">		| CLARK  | 2450.00 | NULL |</span><br><span class="line">		| SCOTT  | 3000.00 | NULL |</span><br><span class="line">		| KING   | 5000.00 | NULL |</span><br><span class="line">		| ADAMS  | 1100.00 | NULL |</span><br><span class="line">		| JAMES  |  950.00 | NULL |</span><br><span class="line">		| FORD   | 3000.00 | NULL |</span><br><span class="line">		| MILLER | 1300.00 | NULL |</span><br><span class="line">		+--------+---------+------+</span><br><span class="line">select ename,sal,comm from emp where comm = null;#如果使用=查询null那么结果一定是空</span><br><span class="line">		Empty set (0.00 sec)</span><br><span class="line"></span><br><span class="line">找出哪些人津贴不为NULL？</span><br><span class="line">select ename,sal,comm from emp where comm is not null;</span><br><span class="line">		+--------+---------+---------+</span><br><span class="line">		| ename  | sal     | comm    |</span><br><span class="line">		+--------+---------+---------+</span><br><span class="line">		| ALLEN  | 1600.00 |  300.00 |</span><br><span class="line">		| WARD   | 1250.00 |  500.00 |</span><br><span class="line">		| MARTIN | 1250.00 | 1400.00 |</span><br><span class="line">		| TURNER | 1500.00 |    0.00 |</span><br><span class="line">		+--------+---------+---------+</span><br><span class="line">	</span><br><span class="line">找出哪些人没有津贴？</span><br><span class="line">select ename,sal,comm from emp where comm is null or comm = 0;</span><br><span class="line">		+--------+---------+------+</span><br><span class="line">		| ename  | sal     | comm |</span><br><span class="line">		+--------+---------+------+</span><br><span class="line">		| SMITH  |  800.00 | NULL |</span><br><span class="line">		| JONES  | 2975.00 | NULL |</span><br><span class="line">		| BLAKE  | 2850.00 | NULL |</span><br><span class="line">		| CLARK  | 2450.00 | NULL |</span><br><span class="line">		| SCOTT  | 3000.00 | NULL |</span><br><span class="line">		| KING   | 5000.00 | NULL |</span><br><span class="line">		| TURNER | 1500.00 | 0.00 |</span><br><span class="line">		| ADAMS  | 1100.00 | NULL |</span><br><span class="line">		| JAMES  |  950.00 | NULL |</span><br><span class="line">		| FORD   | 3000.00 | NULL |</span><br><span class="line">		| MILLER | 1300.00 | NULL |</span><br><span class="line">		+--------+---------+------+</span><br><span class="line">	</span><br><span class="line">找出工作岗位是MANAGER和SALESMAN的员工？</span><br><span class="line">select ename,job from emp where job = &#x27;MANAGER&#x27; or job = &#x27;SALESMAN&#x27;;</span><br><span class="line">		+--------+----------+</span><br><span class="line">		| ename  | job      |</span><br><span class="line">		+--------+----------+</span><br><span class="line">		| ALLEN  | SALESMAN |</span><br><span class="line">		| WARD   | SALESMAN |</span><br><span class="line">		| JONES  | MANAGER  |</span><br><span class="line">		| MARTIN | SALESMAN |</span><br><span class="line">		| BLAKE  | MANAGER  |</span><br><span class="line">		| CLARK  | MANAGER  |</span><br><span class="line">		| TURNER | SALESMAN |</span><br><span class="line">		+--------+----------+</span><br><span class="line">	</span><br><span class="line">and 和 or联合起来用：找出薪资大于1000的并且部门编号是20或30部门的员工。</span><br><span class="line">select ename,sal,deptno from emp where sal &gt; 1000 and deptno = 20 or deptno = 30; # 错误的</span><br><span class="line">select ename,sal,deptno from emp where sal &gt; 1000 and (deptno = 20 or deptno = 30); # 正确的。</span><br><span class="line">#注意：当运算符的优先级不确定的时候加小括号。无论and和or的位置如何and的优先级总是高于or</span><br><span class="line">	</span><br><span class="line">in 等同于 or：找出工作岗位是MANAGER和SALESMAN的员工？</span><br><span class="line">select ename,job from emp where job = &#x27;SALESMAN&#x27; or job = &#x27;MANAGER&#x27;;</span><br><span class="line">select ename,job from emp where job in(&#x27;SALESMAN&#x27;, &#x27;MANAGER&#x27;);</span><br><span class="line">select ename,job from emp where sal in(800, 5000); # in后面的值不是区间，是具体的值。</span><br><span class="line">		+-------+-----------+</span><br><span class="line">		| ename | job       |</span><br><span class="line">		+-------+-----------+</span><br><span class="line">		| SMITH | CLERK     |</span><br><span class="line">		| KING  | PRESIDENT |</span><br><span class="line">		+-------+-----------+</span><br><span class="line">	</span><br><span class="line">not in: 不在这几个值当中。</span><br><span class="line">select ename,job from emp where sal not in(800, 5000);</span><br><span class="line">	</span><br><span class="line">模糊查询like ? </span><br><span class="line"> 找出名字当中含有O的？</span><br><span class="line">（在模糊查询当中，必须掌握两个特殊的符号，一个是%，一个是_）</span><br><span class="line"> %代表任意多个字符，_代表任意1个字符。</span><br><span class="line">select ename from emp where ename like &#x27;%O%&#x27;;</span><br><span class="line">			+-------+</span><br><span class="line">			| ename |</span><br><span class="line">			+-------+</span><br><span class="line">			| JONES |</span><br><span class="line">			| SCOTT |</span><br><span class="line">			| FORD  |</span><br><span class="line">			+-------+</span><br><span class="line">找出名字中第二个字母是A的？</span><br><span class="line">select ename from emp where ename like &#x27;_A%&#x27;;</span><br><span class="line">			+--------+</span><br><span class="line">			| ename  |</span><br><span class="line">			+--------+</span><br><span class="line">			| WARD   |</span><br><span class="line">			| MARTIN |</span><br><span class="line">			| JAMES  |</span><br><span class="line">			+--------+</span><br><span class="line">找出名字中有下划线的？</span><br><span class="line">mysql&gt; select * from t_user;</span><br><span class="line">			+------+----------+</span><br><span class="line">			| id   | name     |</span><br><span class="line">			+------+----------+</span><br><span class="line">			|    1 | zhangsan |</span><br><span class="line">			|    2 | lisi     |</span><br><span class="line">			|    3 | WANG_WU  |</span><br><span class="line">			+------+----------+</span><br><span class="line">select name from t_user where name like &#x27;%_%&#x27;;</span><br><span class="line">			+----------+</span><br><span class="line">			| name     |</span><br><span class="line">			+----------+</span><br><span class="line">			| zhangsan |</span><br><span class="line">			| lisi     |</span><br><span class="line">			| WANG_WU  |</span><br><span class="line">			+----------+</span><br><span class="line">select name from t_user where name like &#x27;%\_%&#x27;;</span><br><span class="line">			+---------+</span><br><span class="line">			| name    |</span><br><span class="line">			+---------+</span><br><span class="line">			| WANG_WU |</span><br><span class="line">			+---------+</span><br><span class="line"></span><br><span class="line">找出名字中最后一个字母是T的？</span><br><span class="line">select ename from emp where ename like &#x27;%T&#x27;;</span><br><span class="line">			+-------+</span><br><span class="line">			| ename |</span><br><span class="line">			+-------+</span><br><span class="line">			| SCOTT | </span><br><span class="line">			+-------+</span><br></pre></td></tr></table></figure>

<h5 id="3、排序（升序、降序）"><a href="#3、排序（升序、降序）" class="headerlink" title="3、排序（升序、降序）"></a>3、排序（升序、降序）</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">按照工资升序，找出员工名和薪资？</span><br><span class="line">select ename,sal from emp order by sal;</span><br><span class="line">    +--------+---------+</span><br><span class="line">    | ename  | sal     |</span><br><span class="line">    +--------+---------+</span><br><span class="line">    | SMITH  |  800.00 |</span><br><span class="line">    | JAMES  |  950.00 |</span><br><span class="line">    | ADAMS  | 1100.00 |</span><br><span class="line">    | WARD   | 1250.00 |</span><br><span class="line">    | MARTIN | 1250.00 |</span><br><span class="line">    | MILLER | 1300.00 |</span><br><span class="line">    | TURNER | 1500.00 |</span><br><span class="line">    | ALLEN  | 1600.00 |</span><br><span class="line">    | CLARK  | 2450.00 |</span><br><span class="line">    | BLAKE  | 2850.00 |</span><br><span class="line">    | JONES  | 2975.00 |</span><br><span class="line">    | FORD   | 3000.00 |</span><br><span class="line">    | SCOTT  | 3000.00 |</span><br><span class="line">    | KING   | 5000.00 |</span><br><span class="line">    +--------+---------+</span><br><span class="line"></span><br><span class="line">注意：默认是升序。怎么指定升序或者降序呢？asc表示升序，desc表示降序。</span><br><span class="line">	select ename , sal from emp order by sal; // 升序</span><br><span class="line">	select ename , sal from emp order by sal asc; // 升序</span><br><span class="line">	select ename , sal from emp order by sal desc; // 降序。</span><br><span class="line"></span><br><span class="line">按照工资的降序排列，当工资相同的时候再按照名字的升序排列。</span><br><span class="line">	select ename,sal from emp order by sal desc;</span><br><span class="line">	select ename,sal from emp order by sal desc , ename asc;</span><br><span class="line">	注意：越靠前的字段越能起到主导作用。只有当前面的字段无法完成排序的时候，才会启用后面的字段。</span><br><span class="line"></span><br><span class="line">找出工作岗位是SALESMAN的员工，并且要求按照薪资的降序排列。</span><br><span class="line">select ename,job,sal from emp where job = &#x27;SALESMAN&#x27; order by sal desc;</span><br><span class="line">+--------+----------+---------+</span><br><span class="line">| ename  | job      | sal     |</span><br><span class="line">+--------+----------+---------+</span><br><span class="line">| ALLEN  | SALESMAN | 1600.00 |</span><br><span class="line">| TURNER | SALESMAN | 1500.00 |</span><br><span class="line">| WARD   | SALESMAN | 1250.00 |</span><br><span class="line">| MARTIN | SALESMAN | 1250.00 |</span><br><span class="line">+--------+----------+---------+</span><br><span class="line"></span><br><span class="line">select </span><br><span class="line">	字段	3</span><br><span class="line">from</span><br><span class="line">	表名  1</span><br><span class="line">where</span><br><span class="line">	条件	2</span><br><span class="line">order by</span><br><span class="line">	.... 4</span><br><span class="line"></span><br><span class="line"># 执行顺序是1、2、3、4; order by是最后执行的。最后排序输出</span><br><span class="line">select ename,sal as salary from emp order by salary;</span><br></pre></td></tr></table></figure>

<h5 id="4、分组函数"><a href="#4、分组函数" class="headerlink" title="4、分组函数"></a>4、分组函数</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line">count 计数</span><br><span class="line">sum 求和</span><br><span class="line">avg 平均值</span><br><span class="line">max 最大值</span><br><span class="line">min 最小值</span><br><span class="line">记住：分组函数一共5个所有的分组函数都是对“某一组”数据进行操作的。分组函数自动忽略NULL。</span><br><span class="line"></span><br><span class="line">找出工资总和？</span><br><span class="line">	select sum(sal) from emp;</span><br><span class="line">找出最高工资？</span><br><span class="line">	select max(sal) from emp;</span><br><span class="line">找出最低工资？</span><br><span class="line">	select min(sal) from emp;</span><br><span class="line">找出平均工资？</span><br><span class="line">	select avg(sal) from emp;</span><br><span class="line">找出总人数？</span><br><span class="line">	select count(*) from emp;</span><br><span class="line">	select count(ename) from emp;</span><br><span class="line">分组函数还有另一个名字：多行处理函数。</span><br><span class="line">多行处理函数的特点：输入多行，最终输出的结果是1行。</span><br><span class="line">select count(comm) from emp;</span><br><span class="line">	+-------------+</span><br><span class="line">	| count(comm) |</span><br><span class="line">	+-------------+</span><br><span class="line">	|           4 |</span><br><span class="line">	+-------------+</span><br><span class="line"></span><br><span class="line">select sum(comm) from emp;</span><br><span class="line">	+-----------+</span><br><span class="line">	| sum(comm) |</span><br><span class="line">	+-----------+</span><br><span class="line">	|   2200.00 |</span><br><span class="line">	+-----------+</span><br><span class="line"></span><br><span class="line">select sum(comm) from emp where comm is not null; # 不需要额外添加这个过滤条件。sum函数自动忽略NULL。 &amp;&amp;&amp;笔试重点</span><br><span class="line"></span><br><span class="line">找出工资高于平均工资的员工？</span><br><span class="line">select avg(sal) from emp; # 平均工资</span><br><span class="line">		+-------------+</span><br><span class="line">		| avg(sal)    |</span><br><span class="line">		+-------------+</span><br><span class="line">		| 2073.214286 |</span><br><span class="line">		+-------------+</span><br><span class="line"></span><br><span class="line">select ename,sal from emp where sal &gt; avg(sal); #ERROR 1111 (HY000): Invalid use of group function</span><br><span class="line">思考以上的错误信息：无效的使用了分组函数？</span><br><span class="line">	原因：SQL语句当中有一个语法规则，分组函数不可直接使用在where子句当中。</span><br><span class="line">怎么解释？</span><br><span class="line">	因为 group by是在 where 执行之后才会执行的。（参看第6条 group by 和 having）</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line">select 5 from 1 where 2 group by 3 having 4 order by 6</span><br><span class="line"># 在1那张表里查，经过2条件过滤之后，3分组，分组之后不满意再进行4过滤，之后5查出来，最后6排序输出</span><br><span class="line"></span><br><span class="line">找出工资高于平均工资的员工？</span><br><span class="line">	第一步：找出平均工资</span><br><span class="line">select avg(sal) from emp;</span><br><span class="line">		+-------------+</span><br><span class="line">		| avg(sal)    |</span><br><span class="line">		+-------------+</span><br><span class="line">		| 2073.214286 |</span><br><span class="line">		+-------------+</span><br><span class="line">	第二步：找出高于平均工资的员工</span><br><span class="line">select ename,sal from emp where sal &gt; 2073.214286;</span><br><span class="line">		+-------+---------+</span><br><span class="line">		| ename | sal     |</span><br><span class="line">		+-------+---------+</span><br><span class="line">		| JONES | 2975.00 |</span><br><span class="line">		| BLAKE | 2850.00 |</span><br><span class="line">		| CLARK | 2450.00 |</span><br><span class="line">		| SCOTT | 3000.00 |</span><br><span class="line">		| KING  | 5000.00 |</span><br><span class="line">		| FORD  | 3000.00 |</span><br><span class="line">		+-------+---------+</span><br><span class="line">select ename,sal from emp where sal &gt; (select avg(sal) from emp);</span><br><span class="line">#算出结果之后再套进去</span><br><span class="line"></span><br><span class="line">count(*)和count(具体的某个字段)，他们有什么区别？# &amp;&amp;&amp;笔试重点</span><br><span class="line">	count(*):不是统计某个字段中数据的个数，而是统计总记录条数。（和某个字段无关）</span><br><span class="line">	count(comm): 表示统计comm字段中不为NULL的数据总数量。</span><br><span class="line"></span><br><span class="line">分组函数也能组合起来用：</span><br><span class="line">select count(*),sum(sal),avg(sal),max(sal),min(sal) from emp;</span><br><span class="line">	+----------+----------+-------------+----------+----------+</span><br><span class="line">	| count(*) | sum(sal) | avg(sal)    | max(sal) | min(sal) |</span><br><span class="line">	+----------+----------+-------------+----------+----------+</span><br><span class="line">	|       14 | 29025.00 | 2073.214286 |  5000.00 |   800.00 |</span><br><span class="line">	+----------+----------+-------------+----------+----------+</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h5 id="5、单行处理函数"><a href="#5、单行处理函数" class="headerlink" title="5、单行处理函数"></a>5、单行处理函数</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">输入一行，输出一行。</span><br><span class="line"></span><br><span class="line">计算每个员工的年薪？</span><br><span class="line">	select ename,(sal+comm)*12 as yearsal from emp;</span><br><span class="line">	重点：所有数据库都是这样规定的，只要有NULL参与的运算结果一定是NULL。</span><br><span class="line">	使用ifnull函数：</span><br><span class="line">	select ename,(sal+ifnull(comm,0))*12 as yearsal from emp;</span><br><span class="line"></span><br><span class="line">ifnull() 空处理函数？ ifnull(可能为NULL的数据,被当做什么处理)：属于单行处理函数。</span><br><span class="line">select ename,ifnull(comm,0) as comm from emp;</span><br><span class="line">	+--------+---------+</span><br><span class="line">	| ename  | comm    |</span><br><span class="line">	+--------+---------+</span><br><span class="line">	| SMITH  |    0.00 |</span><br><span class="line">	| ALLEN  |  300.00 |</span><br><span class="line">	| WARD   |  500.00 |</span><br><span class="line">	| JONES  |    0.00 |</span><br><span class="line">	| MARTIN | 1400.00 |</span><br><span class="line">	| BLAKE  |    0.00 |</span><br><span class="line">	| CLARK  |    0.00 |</span><br><span class="line">	| SCOTT  |    0.00 |</span><br><span class="line">	| KING   |    0.00 |</span><br><span class="line">	| TURNER |    0.00 |</span><br><span class="line">	| ADAMS  |    0.00 |</span><br><span class="line">	| JAMES  |    0.00 |</span><br><span class="line">	| FORD   |    0.00 |</span><br><span class="line">	| MILLER |    0.00 |</span><br><span class="line">	+--------+---------+</span><br></pre></td></tr></table></figure>



<h5 id="6、group-by-和-having"><a href="#6、group-by-和-having" class="headerlink" title="6、group by 和 having"></a>6、group by 和 having</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line">group by ： 按照某个字段或者某些字段进行分组。</span><br><span class="line">having ： 对分组之后的数据进行再次过滤。</span><br><span class="line"></span><br><span class="line">案例：找出每个工作岗位的最高薪资。</span><br><span class="line">select max(sal),job from emp group by job;</span><br><span class="line">	+----------+-----------+</span><br><span class="line">	| max(sal) | job       |</span><br><span class="line">	+----------+-----------+</span><br><span class="line">	|  3000.00 | ANALYST   |</span><br><span class="line">	|  1300.00 | CLERK     |</span><br><span class="line">	|  2975.00 | MANAGER   |</span><br><span class="line">	|  5000.00 | PRESIDENT |</span><br><span class="line">	|  1600.00 | SALESMAN  |</span><br><span class="line">	+----------+-----------+</span><br><span class="line">注意：</span><br><span class="line">	*分组函数一般都会和 group by联合使用，这也是为什么它被称为分组函数的原因。</span><br><span class="line">	*并且任何一个分组函数（ count sum avg max min）都是在 group by语句执行结束之后才会执行的。</span><br><span class="line">	*当一条sql语句没有 group by的话，整张表的数据会自成一组。</span><br><span class="line"></span><br><span class="line">select ename,max(sal),job from emp group by job;</span><br><span class="line">	以上在mysql当中，查询结果是有的，但是结果没有意义，查询出的结果与实际结果并不相符，在Oracle数据库当中会报错。语法错误。Oracle的语法规则比MySQL语法规则严谨。</span><br><span class="line">***	记住一个规则：当一条语句中有 group by的话， select后面只能跟1、分组函数和2、参与分组的字段。</span><br><span class="line"></span><br><span class="line">每个工作岗位的平均薪资？</span><br><span class="line">select job,avg(sal) from emp group by job;</span><br><span class="line">	+-----------+-------------+</span><br><span class="line">	| job       | avg(sal)    |</span><br><span class="line">	+-----------+-------------+</span><br><span class="line">	| ANALYST   | 3000.000000 |</span><br><span class="line">	| CLERK     | 1037.500000 |</span><br><span class="line">	| MANAGER   | 2758.333333 |</span><br><span class="line">	| PRESIDENT | 5000.000000 |</span><br><span class="line">	| SALESMAN  | 1400.000000 |</span><br><span class="line">	+-----------+-------------+</span><br><span class="line"></span><br><span class="line">多个字段能不能联合起来一块分组？</span><br><span class="line">案例：找出每个部门不同工作岗位的最高薪资。（和找出每个工作岗位的最高薪资不同）</span><br><span class="line">select deptno,job,max(sal) from emp group by deptno,job;</span><br><span class="line"></span><br><span class="line">找出每个部门的最高薪资，要求显示薪资大于2900的数据。</span><br><span class="line">	第一步：找出每个部门的最高薪资</span><br><span class="line">select max(sal),deptno from emp group by deptno;</span><br><span class="line">	+----------+--------+</span><br><span class="line">	| max(sal) | deptno |</span><br><span class="line">	+----------+--------+</span><br><span class="line">	|  5000.00 |     10 |</span><br><span class="line">	|  3000.00 |     20 |</span><br><span class="line">	|  2850.00 |     30 |</span><br><span class="line">	+----------+--------+</span><br><span class="line"></span><br><span class="line">	第二步：找出薪资大于2900</span><br><span class="line">select max(sal),deptno from emp group by deptno having max(sal) &gt; 2900;#这种方式效率低。</span><br><span class="line">	+----------+--------+</span><br><span class="line">	| max(sal) | deptno |</span><br><span class="line">	+----------+--------+</span><br><span class="line">	|  5000.00 |     10 |</span><br><span class="line">	|  3000.00 |     20 |</span><br><span class="line">	+----------+--------+</span><br><span class="line"></span><br><span class="line">	select max(sal),deptno from emp where sal &gt; 2900 group by deptno;#效率较高，因为where是在group by之前执行的，先筛选之后再分组，如果使用having的话，先分组再过滤的效率较低（分好组的数据却被过滤了，那就白分组了），建议能够使用where过滤的尽量使用where。但是如果where之后要用的数据是分完组之后算出来的那么没办法只能用having</span><br><span class="line">	+----------+--------+</span><br><span class="line">	| max(sal) | deptno |</span><br><span class="line">	+----------+--------+</span><br><span class="line">	|  5000.00 |     10 |</span><br><span class="line">	|  3000.00 |     20 |</span><br><span class="line">	+----------+--------+</span><br><span class="line"></span><br><span class="line">找出每个部门的平均薪资，要求显示薪资大于2000的数据。</span><br><span class="line">	第一步：找出每个部门的平均薪资</span><br><span class="line">select deptno,avg(sal) from emp group by deptno;</span><br><span class="line">	+--------+-------------+</span><br><span class="line">	| deptno | avg(sal)    |</span><br><span class="line">	+--------+-------------+</span><br><span class="line">	|     10 | 2916.666667 |</span><br><span class="line">	|     20 | 2175.000000 |</span><br><span class="line">	|     30 | 1566.666667 |</span><br><span class="line">	+--------+-------------+</span><br><span class="line"></span><br><span class="line">	第二步：要求显示薪资大于2000的数据</span><br><span class="line">select deptno,avg(sal) from emp group by deptno having avg(sal) &gt; 2000;	</span><br><span class="line">	+--------+-------------+</span><br><span class="line">	| deptno | avg(sal)    |</span><br><span class="line">	+--------+-------------+</span><br><span class="line">	|     10 | 2916.666667 |</span><br><span class="line">	|     20 | 2175.000000 |</span><br><span class="line">	+--------+-------------+</span><br><span class="line"></span><br><span class="line">	where后面不能使用分组函数：</span><br><span class="line">select deptno,avg(sal) from emp where avg(sal) &gt; 2000 group by deptno; #错误了。</span><br><span class="line">	这种情况只能使用having过滤。</span><br></pre></td></tr></table></figure>

<h5 id="7、总结一个完整的DQL语句怎么写？"><a href="#7、总结一个完整的DQL语句怎么写？" class="headerlink" title="7、总结一个完整的DQL语句怎么写？"></a>7、总结一个完整的DQL语句怎么写？</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">select		5</span><br><span class="line">	..</span><br><span class="line">from		1	</span><br><span class="line">	..</span><br><span class="line">where		2</span><br><span class="line">	..</span><br><span class="line">group by	3</span><br><span class="line">	..</span><br><span class="line">having		4  #having和group by是绑定的，用having之前必须先分组</span><br><span class="line">	..</span><br><span class="line">order by	6</span><br><span class="line">	..</span><br></pre></td></tr></table></figure>

<h5 id="8、查询结果集去重"><a href="#8、查询结果集去重" class="headerlink" title="8、查询结果集去重"></a>8、查询结果集去重</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">select distinct job from emp; // distinct关键字去除重复记录。</span><br><span class="line">	+-----------+</span><br><span class="line">	| job       |</span><br><span class="line">	+-----------+</span><br><span class="line">	| CLERK     |</span><br><span class="line">	| SALESMAN  |</span><br><span class="line">	| MANAGER   |</span><br><span class="line">	| ANALYST   |</span><br><span class="line">	| PRESIDENT |</span><br><span class="line">	+-----------+	</span><br><span class="line"></span><br><span class="line">select ename,distinct job from emp;</span><br><span class="line">	以上的sql语句是错误的。</span><br><span class="line">***	记住：</span><br><span class="line">	1、distinct只能出现在所有字段的最前面。</span><br><span class="line">	2、distinct出现在最前方表示后面所有的字段联合起来去重</span><br><span class="line"></span><br><span class="line">select distinct deptno,job from emp;</span><br><span class="line">	+--------+-----------+</span><br><span class="line">	| deptno | job       |</span><br><span class="line">	+--------+-----------+</span><br><span class="line">	|     20 | CLERK     |</span><br><span class="line">	|     30 | SALESMAN  |</span><br><span class="line">	|     20 | MANAGER   |</span><br><span class="line">	|     30 | MANAGER   |</span><br><span class="line">	|     10 | MANAGER   |</span><br><span class="line">	|     20 | ANALYST   |</span><br><span class="line">	|     10 | PRESIDENT |</span><br><span class="line">	|     30 | CLERK     |</span><br><span class="line">	|     10 | CLERK     |</span><br><span class="line">	+--------+-----------+</span><br><span class="line"></span><br><span class="line">案例：统计岗位的数量？</span><br><span class="line">select count(distinct job) from emp;</span><br><span class="line">    +---------------------+</span><br><span class="line">    | count(distinct job) |</span><br><span class="line">    +---------------------+</span><br><span class="line">    |                   5 |</span><br><span class="line">    +---------------------+</span><br></pre></td></tr></table></figure>

<h5 id="9、连接查询"><a href="#9、连接查询" class="headerlink" title="9、连接查询"></a>9、连接查询</h5><p>1、什么是连接查询？<br>    在实际开发中，大部分的情况下都不是从单表中查询数据，一般都是多张表联合查询取出最终的结果。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">在实际开发中，一般一个业务都会对应多张表，比如：学生和班级，起码两张表。</span><br><span class="line">		stuno		stuname			classno		classname</span><br><span class="line">---------------------------------------------------------------------</span><br><span class="line">		1			zs					1		第二中学高三1班</span><br><span class="line">		2			ls					1		第二中学高三1班</span><br><span class="line">学生和班级信息存储到一张表中，结果就像上面一样，数据会存在大量的重复，导致数据的冗余。（班级序号和名字都冗余了）</span><br></pre></td></tr></table></figure>

<p>2、连接查询的分类？</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">根据语法出现的年代来划分的话，包括：</span><br><span class="line">SQL92（一些老的DBA可能还在使用这种语法。DBA：DataBase Administrator，数据库管理员）</span><br><span class="line">SQL99（比较新的语法）</span><br><span class="line">根据表的连接方式来划分，包括：</span><br><span class="line">1、内连接：</span><br><span class="line">	等值连接</span><br><span class="line">	非等值连接</span><br><span class="line">	自连接</span><br><span class="line">2、外连接：</span><br><span class="line">	左外连接（左连接）</span><br><span class="line">	右外连接（右连接）</span><br><span class="line">3、全连接（这个不讲，很少用！）</span><br></pre></td></tr></table></figure>

<p>3、在表的连接查询方面有一种现象被称为：笛卡尔积现象。（笛卡尔乘积现象）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">案例：找出每一个员工的部门名称，要求显示员工名和部门名。</span><br><span class="line">EMP表</span><br><span class="line">    +--------+--------+</span><br><span class="line">    | ename  | deptno |</span><br><span class="line">    +--------+--------+</span><br><span class="line">    | SMITH  |     20 |</span><br><span class="line">    | ALLEN  |     30 |</span><br><span class="line">    | WARD   |     30 |</span><br><span class="line">    | JONES  |     20 |</span><br><span class="line">    | MARTIN |     30 |</span><br><span class="line">    | BLAKE  |     30 |</span><br><span class="line">    | CLARK  |     10 |</span><br><span class="line">    | SCOTT  |     20 |</span><br><span class="line">    | KING   |     10 |</span><br><span class="line">    | TURNER |     30 |</span><br><span class="line">    | ADAMS  |     20 |</span><br><span class="line">    | JAMES  |     30 |</span><br><span class="line">    | FORD   |     20 |</span><br><span class="line">    | MILLER |     10 |</span><br><span class="line">    +--------+--------+</span><br><span class="line">DEPT表</span><br><span class="line">    +--------+------------+----------+</span><br><span class="line">    | DEPTNO | DNAME      | LOC      |</span><br><span class="line">    +--------+------------+----------+</span><br><span class="line">    |     10 | ACCOUNTING | NEW YORK |</span><br><span class="line">    |     20 | RESEARCH   | DALLAS   |</span><br><span class="line">    |     30 | SALES      | CHICAGO  |</span><br><span class="line">    |     40 | OPERATIONS | BOSTON   |</span><br><span class="line">    +--------+------------+----------+</span><br><span class="line"></span><br><span class="line">select ename,dname from emp,dept;</span><br><span class="line">    +--------+------------+</span><br><span class="line">    | ename  | dname      |</span><br><span class="line">    +--------+------------+</span><br><span class="line">    | SMITH  | ACCOUNTING |</span><br><span class="line">    | SMITH  | RESEARCH   |</span><br><span class="line">    | SMITH  | SALES      |</span><br><span class="line">    | SMITH  | OPERATIONS |</span><br><span class="line">    | ALLEN  | ACCOUNTING |</span><br><span class="line">    | ALLEN  | RESEARCH   |</span><br><span class="line">    ............</span><br><span class="line">    56 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">笛卡尔积现象：当两张表进行连接查询的时候，*没有任何条件进行限制*，最终的查询结果条数是两张表记录条数的乘积。</span><br><span class="line"></span><br><span class="line">关于表的别名：</span><br><span class="line">select e.ename,d.dname from emp e,dept d;#ename和dname要联合显示</span><br><span class="line">表的别名（和字段别名一样）有什么好处？</span><br><span class="line">	第一：执行效率高。不加别名的话ename不但在第一张表中找，还会在第二张表中找</span><br><span class="line">	第二：可读性好。</span><br></pre></td></tr></table></figure>
<p>4、怎么避免笛卡尔积现象？当然是加条件进行过滤，但是这样并不会减少匹配次数。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">思考：避免了笛卡尔积现象，会减少记录的匹配次数吗？</span><br><span class="line">	不会，次数还是56次。只不过显示的是有效记录。</span><br><span class="line"></span><br><span class="line">案例：找出每一个员工的部门名称，要求显示员工名和部门名。</span><br><span class="line">select	e.ename,d.dname from emp e , dept d where e.deptno = d.deptno; #SQL92的语法，以后不用。</span><br><span class="line">	+--------+------------+</span><br><span class="line">	| ename  | dname      |</span><br><span class="line">	+--------+------------+</span><br><span class="line">	| CLARK  | ACCOUNTING |</span><br><span class="line">	| KING   | ACCOUNTING |</span><br><span class="line">	| MILLER | ACCOUNTING |</span><br><span class="line">	| SMITH  | RESEARCH   |</span><br><span class="line">	| JONES  | RESEARCH   |</span><br><span class="line">	| SCOTT  | RESEARCH   |</span><br><span class="line">	| ADAMS  | RESEARCH   |</span><br><span class="line">	| FORD   | RESEARCH   |</span><br><span class="line">	| ALLEN  | SALES      |</span><br><span class="line">	| WARD   | SALES      |</span><br><span class="line">	| MARTIN | SALES      |</span><br><span class="line">	| BLAKE  | SALES      |</span><br><span class="line">	| TURNER | SALES      |</span><br><span class="line">	| JAMES  | SALES      |</span><br><span class="line">	+--------+------------+</span><br></pre></td></tr></table></figure>
<p>5、内连接之等值连接：最大特点是：条件是等量关系。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">案例：查询每个员工的部门名称，要求显示员工名和部门名。</span><br><span class="line">SQL92:（太老，不用了）</span><br><span class="line">select e.ename,d.dname from emp e, dept d where e.deptno = d.deptno;</span><br><span class="line"></span><br><span class="line">SQL99：（常用的）</span><br><span class="line">select e.ename,d.dname from emp e join dept d on e.deptno = d.deptno;</span><br><span class="line"></span><br><span class="line">#join on 语法，on后加表的连接条件</span><br><span class="line">#inner可以省略的，带着inner目的是可读性好一些。</span><br><span class="line">select e.ename,d.dname from emp e inner join dept d on e.deptno = d.deptno;</span><br><span class="line"></span><br><span class="line">SQL99 语法：</span><br><span class="line"> ... A join B on 连接条件 where ...</span><br><span class="line">SQL99语法结构更清晰一些：表的连接条件和后来的where条件分离了，表的连接就是表的连接，后面再过滤使用where。	</span><br><span class="line">	+--------+------------+</span><br><span class="line">	| ename  | dname      |</span><br><span class="line">	+--------+------------+</span><br><span class="line">	| CLARK  | ACCOUNTING |</span><br><span class="line">	| KING   | ACCOUNTING |</span><br><span class="line">	| MILLER | ACCOUNTING |</span><br><span class="line">	| SMITH  | RESEARCH   |</span><br><span class="line">	| JONES  | RESEARCH   |</span><br><span class="line">	| SCOTT  | RESEARCH   |</span><br><span class="line">	| ADAMS  | RESEARCH   |</span><br><span class="line">	| FORD   | RESEARCH   |</span><br><span class="line">	| ALLEN  | SALES      |</span><br><span class="line">	| WARD   | SALES      |</span><br><span class="line">	| MARTIN | SALES      |</span><br><span class="line">	| BLAKE  | SALES      |</span><br><span class="line">	| TURNER | SALES      |</span><br><span class="line">	| JAMES  | SALES      |</span><br><span class="line">	+--------+------------+</span><br></pre></td></tr></table></figure>
<p>6、内连接之非等值连接：最大的特点是：连接条件中的关系是非等量关系。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">案例：找出每个员工的工资等级，要求显示员工名、工资、工资等级。</span><br><span class="line"></span><br><span class="line">mysql&gt; select ename,sal from emp;</span><br><span class="line">    +--------+---------+</span><br><span class="line">    | ename  | sal     |</span><br><span class="line">    +--------+---------+</span><br><span class="line">    | SMITH  |  800.00 |</span><br><span class="line">    | ALLEN  | 1600.00 |</span><br><span class="line">    | WARD   | 1250.00 |</span><br><span class="line">    | JONES  | 2975.00 |</span><br><span class="line">    | MARTIN | 1250.00 |</span><br><span class="line">    | BLAKE  | 2850.00 |</span><br><span class="line">    | CLARK  | 2450.00 |</span><br><span class="line">    | SCOTT  | 3000.00 |</span><br><span class="line">    | KING   | 5000.00 |</span><br><span class="line">    | TURNER | 1500.00 |</span><br><span class="line">    | ADAMS  | 1100.00 |</span><br><span class="line">    | JAMES  |  950.00 |</span><br><span class="line">    | FORD   | 3000.00 |</span><br><span class="line">    | MILLER | 1300.00 |</span><br><span class="line">    +--------+---------+</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from salgrade;</span><br><span class="line">    +-------+-------+-------+ </span><br><span class="line">    | GRADE | LOSAL | HISAL |</span><br><span class="line">    +-------+-------+-------+</span><br><span class="line">    |     1 |   700 |  1200 |</span><br><span class="line">    |     2 |  1201 |  1400 |</span><br><span class="line">    |     3 |  1401 |  2000 |</span><br><span class="line">    |     4 |  2001 |  3000 |</span><br><span class="line">    |     5 |  3001 |  9999 |</span><br><span class="line">    +-------+-------+-------+</span><br><span class="line">    </span><br><span class="line">select </span><br><span class="line">	e.ename,e.sal,s.grade</span><br><span class="line">from</span><br><span class="line">	emp e</span><br><span class="line">join # inner可以省略</span><br><span class="line">	salgrade s</span><br><span class="line">on</span><br><span class="line">	e.sal between s.losal and s.hisal;</span><br><span class="line">        +--------+---------+-------+</span><br><span class="line">        | ename  | sal     | grade |</span><br><span class="line">        +--------+---------+-------+</span><br><span class="line">        | SMITH  |  800.00 |     1 |</span><br><span class="line">        | ALLEN  | 1600.00 |     3 |</span><br><span class="line">        | WARD   | 1250.00 |     2 |</span><br><span class="line">        | JONES  | 2975.00 |     4 |</span><br><span class="line">        | MARTIN | 1250.00 |     2 |</span><br><span class="line">        | BLAKE  | 2850.00 |     4 |</span><br><span class="line">        | CLARK  | 2450.00 |     4 |</span><br><span class="line">        | SCOTT  | 3000.00 |     4 |</span><br><span class="line">        | KING   | 5000.00 |     5 |</span><br><span class="line">        | TURNER | 1500.00 |     3 |</span><br><span class="line">        | ADAMS  | 1100.00 |     1 |</span><br><span class="line">        | JAMES  |  950.00 |     1 |</span><br><span class="line">        | FORD   | 3000.00 |     4 |</span><br><span class="line">        | MILLER | 1300.00 |     2 |</span><br><span class="line">        +--------+---------+-------+</span><br></pre></td></tr></table></figure>
<p>7、自连接：最大的特点是：一张表看做两张表。自己连接自己（起别名）。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">案例：找出每个员工的上级领导，要求显示员工名和对应的领导名。</span><br><span class="line">mysql&gt; select empno,ename,mgr from emp;</span><br><span class="line">emp a员工表</span><br><span class="line">    +-------+--------+------+</span><br><span class="line">    | empno | ename  | mgr  |</span><br><span class="line">    +-------+--------+------+</span><br><span class="line">    |  7369 | SMITH  | 7902 |</span><br><span class="line">    |  7499 | ALLEN  | 7698 |</span><br><span class="line">    |  7521 | WARD   | 7698 |</span><br><span class="line">    |  7566 | JONES  | 7839 |</span><br><span class="line">    |  7654 | MARTIN | 7698 |</span><br><span class="line">    |  7698 | BLAKE  | 7839 |</span><br><span class="line">    |  7782 | CLARK  | 7839 |</span><br><span class="line">    |  7788 | SCOTT  | 7566 |</span><br><span class="line">    |  7839 | KING   | NULL |</span><br><span class="line">    |  7844 | TURNER | 7698 |</span><br><span class="line">    |  7876 | ADAMS  | 7788 |</span><br><span class="line">    |  7900 | JAMES  | 7698 |</span><br><span class="line">    |  7902 | FORD   | 7566 |</span><br><span class="line">    |  7934 | MILLER | 7782 |</span><br><span class="line">    +-------+--------+------+</span><br><span class="line">emp b 领导表 （员工表当中只有以下6个员工是领导。下面的表是上面表的子表）</span><br><span class="line">    +-------+--------+</span><br><span class="line">    | empno | ename  |</span><br><span class="line">    +-------+--------+</span><br><span class="line">    |  7566 | JONES  |</span><br><span class="line">    |  7698 | BLAKE  |</span><br><span class="line">    |  7782 | CLARK  |</span><br><span class="line">    |  7788 | SCOTT  |</span><br><span class="line">    |  7839 | KING   |</span><br><span class="line">    |  7902 | FORD   |</span><br><span class="line">    +-------+--------+</span><br><span class="line">员工的领导编号 = 领导的员工编号</span><br><span class="line"></span><br><span class="line">select </span><br><span class="line">	a.ename as &#x27;员工名&#x27;,b.ename as &#x27;领导名&#x27;</span><br><span class="line">from</span><br><span class="line">	emp a</span><br><span class="line">inner join</span><br><span class="line">	emp b</span><br><span class="line">on</span><br><span class="line">	a.mgr = b.empno;</span><br><span class="line">        +--------+--------+</span><br><span class="line">        | 员工名 | 领导名 |</span><br><span class="line">        +--------+--------+</span><br><span class="line">        | SMITH  | FORD   |</span><br><span class="line">        | ALLEN  | BLAKE  |</span><br><span class="line">        | WARD   | BLAKE  |</span><br><span class="line">        | JONES  | KING   |</span><br><span class="line">        | MARTIN | BLAKE  |</span><br><span class="line">        | BLAKE  | KING   |</span><br><span class="line">        | CLARK  | KING   |</span><br><span class="line">        | SCOTT  | JONES  |</span><br><span class="line">        | TURNER | BLAKE  |</span><br><span class="line">        | ADAMS  | SCOTT  |</span><br><span class="line">        | JAMES  | BLAKE  |</span><br><span class="line">        | FORD   | JONES  |</span><br><span class="line">        | MILLER | CLARK  |</span><br><span class="line">        +--------+--------+</span><br><span class="line">        13 rows in set (0.00 sec)</span><br><span class="line">#只有13条记录。这就是内连接，匹配的上就查出来匹配不上就不查了</span><br></pre></td></tr></table></figure>

<p>8、外连接</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line">什么是外连接，和内连接有什么区别？</span><br><span class="line">1、内连接：</span><br><span class="line">	假设A和B表进行连接，使用内连接的话，凡是A表和B表能够匹配上的记录查询出来，这就是内连接。AB两张表没有主副之分，两张表是平等的。	</span><br><span class="line">2、外连接：</span><br><span class="line"> 	假设A和B表进行连接，使用外连接的话，AB两张表中有一张表是主表，一张表是副表，主要查询主表中的数据，捎带着查询副表，当副表中的数据没有和主表中的数据匹配上，副表自动模拟出NULL与之匹配。</span><br><span class="line">3、外连接的分类</span><br><span class="line">	左外连接（左连接）：表示左边的这张表是主表。</span><br><span class="line">	右外连接（右连接）：表示右边的这张表是主表。</span><br><span class="line">	左连接有右连接的写法，右连接也会有对应的左连接的写法。</span><br><span class="line"></span><br><span class="line">案例：找出每个员工的上级领导？（所有员工必须全部查询出来。）</span><br><span class="line">emp a 员工表</span><br><span class="line">    +-------+--------+------+</span><br><span class="line">    | empno | ename  | mgr  |</span><br><span class="line">    +-------+--------+------+</span><br><span class="line">    |  7369 | SMITH  | 7902 |</span><br><span class="line">    |  7499 | ALLEN  | 7698 |</span><br><span class="line">    |  7521 | WARD   | 7698 |</span><br><span class="line">    |  7566 | JONES  | 7839 |</span><br><span class="line">    |  7654 | MARTIN | 7698 |</span><br><span class="line">    |  7698 | BLAKE  | 7839 |</span><br><span class="line">    |  7782 | CLARK  | 7839 |</span><br><span class="line">    |  7788 | SCOTT  | 7566 |</span><br><span class="line">    |  7839 | KING   | NULL |</span><br><span class="line">    |  7844 | TURNER | 7698 |</span><br><span class="line">    |  7876 | ADAMS  | 7788 |</span><br><span class="line">    |  7900 | JAMES  | 7698 |</span><br><span class="line">    |  7902 | FORD   | 7566 |</span><br><span class="line">    |  7934 | MILLER | 7782 |</span><br><span class="line">    +-------+--------+------+</span><br><span class="line">emp b 领导表</span><br><span class="line">    +-------+--------+</span><br><span class="line">    | empno | ename  |</span><br><span class="line">    +-------+--------+</span><br><span class="line">    |  7566 | JONES  |</span><br><span class="line">    |  7698 | BLAKE  |</span><br><span class="line">    |  7782 | CLARK  |</span><br><span class="line">    |  7788 | SCOTT  |</span><br><span class="line">    |  7839 | KING   |</span><br><span class="line">    |  7902 | FORD   |</span><br><span class="line">    +-------+--------+</span><br><span class="line"></span><br><span class="line">内连接：</span><br><span class="line">select a.ename &#x27;员工&#x27;, b.ename &#x27;领导&#x27; from emp a join emp b on a.mgr = b.empno;</span><br><span class="line"></span><br><span class="line">外连接：（左外连接/左连接）</span><br><span class="line">select a.ename &#x27;员工&#x27;, b.ename &#x27;领导&#x27; from emp a left join emp b on a.mgr = b.empno;</span><br><span class="line">#left outer join，outer是可以省略的。</span><br><span class="line">外连接：（右外连接/右连接）</span><br><span class="line">select a.ename &#x27;员工&#x27;, b.ename &#x27;领导&#x27; from emp b right join emp a on a.mgr = b.empno;</span><br><span class="line">#right outer join，outer是可以省略的。</span><br><span class="line">    +--------+-------+</span><br><span class="line">    | 员工      | 领导    |</span><br><span class="line">    +--------+-------+</span><br><span class="line">    | SMITH  | FORD  |</span><br><span class="line">    | ALLEN  | BLAKE |</span><br><span class="line">    | WARD   | BLAKE |</span><br><span class="line">    | JONES  | KING  |</span><br><span class="line">    | MARTIN | BLAKE |</span><br><span class="line">    | BLAKE  | KING  |</span><br><span class="line">    | CLARK  | KING  |</span><br><span class="line">    | SCOTT  | JONES |</span><br><span class="line">    | KING   | NULL  |</span><br><span class="line">    | TURNER | BLAKE |</span><br><span class="line">    | ADAMS  | SCOTT |</span><br><span class="line">    | JAMES  | BLAKE |</span><br><span class="line">    | FORD   | JONES |</span><br><span class="line">    | MILLER | CLARK |</span><br><span class="line">    +--------+-------+</span><br><span class="line">    14 rows in set (0.00 sec)</span><br><span class="line"># 外连接最重要的特点是：主表的数据无条件的全部查询出来。虽然king的领导是null但是仍然可以查询出来</span><br><span class="line"></span><br><span class="line">案例：找出哪个部门没有员工？</span><br><span class="line">EMP表</span><br><span class="line">+-------+--------+-----------+------+------------+---------+---------+--------+</span><br><span class="line">| EMPNO | ENAME  | JOB       | MGR  | HIREDATE   | SAL     | COMM    | DEPTNO |</span><br><span class="line">+-------+--------+-----------+------+------------+---------+---------+--------+</span><br><span class="line">|  7369 | SMITH  | CLERK     | 7902 | 1980-12-17 |  800.00 |    NULL |     20 |</span><br><span class="line">|  7499 | ALLEN  | SALESMAN  | 7698 | 1981-02-20 | 1600.00 |  300.00 |     30 |</span><br><span class="line">|  7521 | WARD   | SALESMAN  | 7698 | 1981-02-22 | 1250.00 |  500.00 |     30 |</span><br><span class="line">|  7566 | JONES  | MANAGER   | 7839 | 1981-04-02 | 2975.00 |    NULL |     20 |</span><br><span class="line">|  7654 | MARTIN | SALESMAN  | 7698 | 1981-09-28 | 1250.00 | 1400.00 |     30 |</span><br><span class="line">|  7698 | BLAKE  | MANAGER   | 7839 | 1981-05-01 | 2850.00 |    NULL |     30 |</span><br><span class="line">|  7782 | CLARK  | MANAGER   | 7839 | 1981-06-09 | 2450.00 |    NULL |     10 |</span><br><span class="line">|  7788 | SCOTT  | ANALYST   | 7566 | 1987-04-19 | 3000.00 |    NULL |     20 |</span><br><span class="line">|  7839 | KING   | PRESIDENT | NULL | 1981-11-17 | 5000.00 |    NULL |     10 |</span><br><span class="line">|  7844 | TURNER | SALESMAN  | 7698 | 1981-09-08 | 1500.00 |    0.00 |     30 |</span><br><span class="line">|  7876 | ADAMS  | CLERK     | 7788 | 1987-05-23 | 1100.00 |    NULL |     20 |</span><br><span class="line">|  7900 | JAMES  | CLERK     | 7698 | 1981-12-03 |  950.00 |    NULL |     30 |</span><br><span class="line">|  7902 | FORD   | ANALYST   | 7566 | 1981-12-03 | 3000.00 |    NULL |     20 |</span><br><span class="line">|  7934 | MILLER | CLERK     | 7782 | 1982-01-23 | 1300.00 |    NULL |     10 |</span><br><span class="line">+-------+--------+-----------+------+------------+---------+---------+--------+</span><br><span class="line">DEPT</span><br><span class="line">    +--------+------------+----------+</span><br><span class="line">    | DEPTNO | DNAME      | LOC      |</span><br><span class="line">    +--------+------------+----------+</span><br><span class="line">    |     10 | ACCOUNTING | NEW YORK |</span><br><span class="line">    |     20 | RESEARCH   | DALLAS   |</span><br><span class="line">    |     30 | SALES      | CHICAGO  |</span><br><span class="line">    |     40 | OPERATIONS | BOSTON   |</span><br><span class="line">    +--------+------------+----------+</span><br><span class="line"></span><br><span class="line">select d.* from emp e right join dept d on e.deptno = d.deptno where e.empno is null;#外连接无条件查询主表中的所有元素。当副表中的数据没有和主表中的数据匹配上，副表自动模拟出NULL与之匹配。所以查询之后40号部门的emp中字段全是null</span><br><span class="line">    +--------+------------+--------+</span><br><span class="line">    | DEPTNO | DNAME      | LOC    |</span><br><span class="line">    +--------+------------+--------+</span><br><span class="line">    |     40 | OPERATIONS | BOSTON |</span><br><span class="line">    +--------+------------+--------+</span><br></pre></td></tr></table></figure>
<p>9、三张表怎么连接查询</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><span class="line">案例：找出每一个员工的部门名称以及工资等级。</span><br><span class="line">EMP e</span><br><span class="line">    +-------+--------+---------+--------+</span><br><span class="line">    | empno | ename  | sal     | deptno |</span><br><span class="line">    +-------+--------+---------+--------+</span><br><span class="line">    |  7369 | SMITH  |  800.00 |     20 |</span><br><span class="line">    |  7499 | ALLEN  | 1600.00 |     30 |</span><br><span class="line">    |  7521 | WARD   | 1250.00 |     30 |</span><br><span class="line">    |  7566 | JONES  | 2975.00 |     20 |</span><br><span class="line">    |  7654 | MARTIN | 1250.00 |     30 |</span><br><span class="line">    |  7698 | BLAKE  | 2850.00 |     30 |</span><br><span class="line">    |  7782 | CLARK  | 2450.00 |     10 |</span><br><span class="line">    |  7788 | SCOTT  | 3000.00 |     20 |</span><br><span class="line">    |  7839 | KING   | 5000.00 |     10 |</span><br><span class="line">    |  7844 | TURNER | 1500.00 |     30 |</span><br><span class="line">    |  7876 | ADAMS  | 1100.00 |     20 |</span><br><span class="line">    |  7900 | JAMES  |  950.00 |     30 |</span><br><span class="line">    |  7902 | FORD   | 3000.00 |     20 |</span><br><span class="line">    |  7934 | MILLER | 1300.00 |     10 |</span><br><span class="line">    +-------+--------+---------+--------+</span><br><span class="line">DEPT d</span><br><span class="line">    +--------+------------+----------+</span><br><span class="line">    | DEPTNO | DNAME      | LOC      |</span><br><span class="line">    +--------+------------+----------+</span><br><span class="line">    |     10 | ACCOUNTING | NEW YORK |</span><br><span class="line">    |     20 | RESEARCH   | DALLAS   |</span><br><span class="line">    |     30 | SALES      | CHICAGO  |</span><br><span class="line">    |     40 | OPERATIONS | BOSTON   |</span><br><span class="line">    +--------+------------+----------+</span><br><span class="line">SALGRADE s</span><br><span class="line">    +-------+-------+-------+</span><br><span class="line">    | GRADE | LOSAL | HISAL |</span><br><span class="line">    +-------+-------+-------+</span><br><span class="line">    |     1 |   700 |  1200 |</span><br><span class="line">    |     2 |  1201 |  1400 |</span><br><span class="line">    |     3 |  1401 |  2000 |</span><br><span class="line">    |     4 |  2001 |  3000 |</span><br><span class="line">    |     5 |  3001 |  9999 |</span><br><span class="line">    +-------+-------+-------+</span><br><span class="line"></span><br><span class="line">注意，解释一下：</span><br><span class="line">	....</span><br><span class="line">		A</span><br><span class="line">	join</span><br><span class="line">		B</span><br><span class="line">	join</span><br><span class="line">		C</span><br><span class="line">	on</span><br><span class="line">		...</span><br><span class="line">#表示：A表和B表先进行表连接，连接之后A表继续和C表进行连接。</span><br><span class="line">#注意：虽然是多张表，但是还是当做两张表的连接看，AB连接和AC连接</span><br><span class="line">select e.ename,d.dname,s.grade from emp e join dept d</span><br><span class="line">	on</span><br><span class="line">		e.deptno = d.deptno</span><br><span class="line">	join</span><br><span class="line">		salgrade s</span><br><span class="line">	on</span><br><span class="line">		e.sal between s.losal and s.hisal;</span><br><span class="line">	</span><br><span class="line">	+--------+------------+-------+</span><br><span class="line">	| ename  | dname      | grade |</span><br><span class="line">	+--------+------------+-------+</span><br><span class="line">	| SMITH  | RESEARCH   |     1 |</span><br><span class="line">	| ALLEN  | SALES      |     3 |</span><br><span class="line">	| WARD   | SALES      |     2 |</span><br><span class="line">	| JONES  | RESEARCH   |     4 |</span><br><span class="line">	| MARTIN | SALES      |     2 |</span><br><span class="line">	| BLAKE  | SALES      |     4 |</span><br><span class="line">	| CLARK  | ACCOUNTING |     4 |</span><br><span class="line">	| SCOTT  | RESEARCH   |     4 |</span><br><span class="line">	| KING   | ACCOUNTING |     5 |</span><br><span class="line">	| TURNER | SALES      |     3 |</span><br><span class="line">	| ADAMS  | RESEARCH   |     1 |</span><br><span class="line">	| JAMES  | SALES      |     1 |</span><br><span class="line">	| FORD   | RESEARCH   |     4 |</span><br><span class="line">	| MILLER | ACCOUNTING |     2 |</span><br><span class="line">	+--------+------------+-------+</span><br><span class="line"></span><br><span class="line">案例：找出每一个员工的部门名称、工资等级、以及上级领导。</span><br><span class="line">	select </span><br><span class="line">		e.ename &#x27;员工&#x27;,d.dname,s.grade,e1.ename &#x27;领导&#x27;</span><br><span class="line">	from</span><br><span class="line">		emp e</span><br><span class="line">	join</span><br><span class="line">		dept d</span><br><span class="line">	on</span><br><span class="line">		e.deptno = d.deptno</span><br><span class="line">	join</span><br><span class="line">		salgrade s</span><br><span class="line">	on</span><br><span class="line">		e.sal between s.losal and s.hisal</span><br><span class="line">	left join</span><br><span class="line">		emp e1</span><br><span class="line">	on</span><br><span class="line">		e.mgr = e1.empno;</span><br><span class="line"></span><br><span class="line">	+--------+------------+-------+-------+</span><br><span class="line">	| 员工      | dname      | grade | 领导    |</span><br><span class="line">	+--------+------------+-------+-------+</span><br><span class="line">	| SMITH  | RESEARCH   |     1 | FORD  |</span><br><span class="line">	| ALLEN  | SALES      |     3 | BLAKE |</span><br><span class="line">	| WARD   | SALES      |     2 | BLAKE |</span><br><span class="line">	| JONES  | RESEARCH   |     4 | KING  |</span><br><span class="line">	| MARTIN | SALES      |     2 | BLAKE |</span><br><span class="line">	| BLAKE  | SALES      |     4 | KING  |</span><br><span class="line">	| CLARK  | ACCOUNTING |     4 | KING  |</span><br><span class="line">	| SCOTT  | RESEARCH   |     4 | JONES |</span><br><span class="line">	| KING   | ACCOUNTING |     5 | NULL  |</span><br><span class="line">	| TURNER | SALES      |     3 | BLAKE |</span><br><span class="line">	| ADAMS  | RESEARCH   |     1 | SCOTT |</span><br><span class="line">	| JAMES  | SALES      |     1 | BLAKE |</span><br><span class="line">	| FORD   | RESEARCH   |     4 | JONES |</span><br><span class="line">	| MILLER | ACCOUNTING |     2 | CLARK |</span><br><span class="line">	+--------+------------+-------+-------+</span><br></pre></td></tr></table></figure>
<h5 id="10、子查询"><a href="#10、子查询" class="headerlink" title="10、子查询"></a>10、子查询</h5><p>1、什么是子查询？子查询都可以出现在哪里？</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">select语句当中嵌套 select语句，被嵌套的 select语句是子查询。</span><br><span class="line">子查询可以出现在哪里？</span><br><span class="line">	select</span><br><span class="line">		..(select).</span><br><span class="line">	from</span><br><span class="line">		..(select).</span><br><span class="line">	where</span><br><span class="line">		..(select).</span><br></pre></td></tr></table></figure>
<p>2、where子句中使用子查询</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">案例：找出高于平均薪资的员工信息。</span><br><span class="line">select * from emp where sal &gt; avg(sal); #错误的写法，where后面不能直接使用分组函数。</span><br><span class="line"></span><br><span class="line">第一步：找出平均薪资</span><br><span class="line">select avg(sal) from emp;</span><br><span class="line">	+-------------+</span><br><span class="line">	| avg(sal)    |</span><br><span class="line">	+-------------+</span><br><span class="line">	| 2073.214286 |</span><br><span class="line">	+-------------+</span><br><span class="line">第二步：where过滤</span><br><span class="line">select * from emp where sal &gt; 2073.214286;</span><br><span class="line"></span><br><span class="line">第一步和第二步合并：</span><br><span class="line">	select * from emp where sal &gt; (select avg(sal) from emp);</span><br></pre></td></tr></table></figure>
<p>3、from后面嵌套子查询 <strong>￥￥重点</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">案例：找出每个部门平均薪水的等级。</span><br><span class="line">第一步：找出每个部门平均薪水（按照部门编号分组，求sal的平均值）</span><br><span class="line">select deptno,avg(sal) as avgsal from emp group by deptno;</span><br><span class="line">    +--------+-------------+</span><br><span class="line">    | deptno | avgsal      |</span><br><span class="line">    +--------+-------------+</span><br><span class="line">    |     10 | 2916.666667 |</span><br><span class="line">    |     20 | 2175.000000 |</span><br><span class="line">    |     30 | 1566.666667 |</span><br><span class="line">    +--------+-------------+</span><br><span class="line">第二步：将以上的查询结果当做临时表t，让t表和salgrade s表连接，条件是：t.avgsal between s.losal and s.hisal</span><br><span class="line">select </span><br><span class="line">	t.*,s.grade</span><br><span class="line">from</span><br><span class="line">	(select deptno,avg(sal) as avgsal from emp group by deptno) t</span><br><span class="line">join</span><br><span class="line">	salgrade s</span><br><span class="line">on</span><br><span class="line">	t.avgsal between s.losal and s.hisal;</span><br><span class="line">    +--------+-------------+-------+</span><br><span class="line">    | deptno | avgsal      | grade |</span><br><span class="line">    +--------+-------------+-------+</span><br><span class="line">    |     30 | 1566.666667 |     3 |</span><br><span class="line">    |     10 | 2916.666667 |     4 |</span><br><span class="line">    |     20 | 2175.000000 |     4 |</span><br><span class="line">    +--------+-------------+-------+</span><br><span class="line"></span><br><span class="line">案例：找出每个部门平均的薪水等级（每个部门中所有员工的薪水等级的平均值）。</span><br><span class="line">第一步：找出每个员工的薪水等级。</span><br><span class="line">select e.ename &#x27;员工&#x27;,e.sal &#x27;薪水&#x27;,e.deptno &#x27;部门编号&#x27;,s.grade &#x27;薪资等级&#x27; from emp e join salgrade s on e.sal between s.losal and s.hisal;</span><br><span class="line">    +--------+---------+--------+-------+</span><br><span class="line">    | ename  | sal     | deptno | grade |</span><br><span class="line">    +--------+---------+--------+-------+</span><br><span class="line">    | SMITH  |  800.00 |     20 |     1 |</span><br><span class="line">    | ALLEN  | 1600.00 |     30 |     3 |</span><br><span class="line">    | WARD   | 1250.00 |     30 |     2 |</span><br><span class="line">    | JONES  | 2975.00 |     20 |     4 |</span><br><span class="line">    | MARTIN | 1250.00 |     30 |     2 |</span><br><span class="line">    | BLAKE  | 2850.00 |     30 |     4 |</span><br><span class="line">    | CLARK  | 2450.00 |     10 |     4 |</span><br><span class="line">    | SCOTT  | 3000.00 |     20 |     4 |</span><br><span class="line">    | KING   | 5000.00 |     10 |     5 |</span><br><span class="line">    | TURNER | 1500.00 |     30 |     3 |</span><br><span class="line">    | ADAMS  | 1100.00 |     20 |     1 |</span><br><span class="line">    | JAMES  |  950.00 |     30 |     1 |</span><br><span class="line">    | FORD   | 3000.00 |     20 |     4 |</span><br><span class="line">    | MILLER | 1300.00 |     10 |     2 |</span><br><span class="line">    +--------+---------+--------+-------+</span><br><span class="line">第二步：基于以上结果，继续按照deptno分组，求grade平均值。</span><br><span class="line">select </span><br><span class="line">	e.deptno,avg(s.grade)</span><br><span class="line">from </span><br><span class="line">	emp e </span><br><span class="line">join </span><br><span class="line">	salgrade s </span><br><span class="line">on </span><br><span class="line">	e.sal between s.losal and s.hisal #先算了一下薪水等级</span><br><span class="line">group by #然后分组。最后执行select后面的分组函数</span><br><span class="line">	e.deptno;</span><br><span class="line">    +--------+--------------+</span><br><span class="line">    | deptno | avg(s.grade) |</span><br><span class="line">    +--------+--------------+</span><br><span class="line">    |     10 |       3.6667 |</span><br><span class="line">    |     20 |       2.8000 |</span><br><span class="line">    |     30 |       2.5000 |</span><br><span class="line">    +--------+--------------+</span><br></pre></td></tr></table></figure>
<p>4、在select后面嵌套子查询。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">案例：找出每个员工所在的部门名称，要求显示员工名和部门名。</span><br><span class="line">#一般使用下面语句</span><br><span class="line">select </span><br><span class="line">	e.ename,d.dname</span><br><span class="line">from</span><br><span class="line">	emp e</span><br><span class="line">join</span><br><span class="line">	dept d</span><br><span class="line">on</span><br><span class="line">	e.deptno = d.deptno;</span><br><span class="line">#下面这个是不常用的写法，只是为了学习select后面嵌套子查询</span><br><span class="line">select </span><br><span class="line">	e.ename,(select d.dname from dept d where e.deptno = d.deptno) as dname </span><br><span class="line">from </span><br><span class="line">	emp e;</span><br><span class="line"></span><br><span class="line">    +--------+------------+</span><br><span class="line">    | ename  | dname      |</span><br><span class="line">    +--------+------------+</span><br><span class="line">    | SMITH  | RESEARCH   |</span><br><span class="line">    | ALLEN  | SALES      |</span><br><span class="line">    | WARD   | SALES      |</span><br><span class="line">    | JONES  | RESEARCH   |</span><br><span class="line">    | MARTIN | SALES      |</span><br><span class="line">    | BLAKE  | SALES      |</span><br><span class="line">    | CLARK  | ACCOUNTING |</span><br><span class="line">    | SCOTT  | RESEARCH   |</span><br><span class="line">    | KING   | ACCOUNTING |</span><br><span class="line">    | TURNER | SALES      |</span><br><span class="line">    | ADAMS  | RESEARCH   |</span><br><span class="line">    | JAMES  | SALES      |</span><br><span class="line">    | FORD   | RESEARCH   |</span><br><span class="line">    | MILLER | ACCOUNTING |</span><br><span class="line">    +--------+------------+</span><br></pre></td></tr></table></figure>
<h5 id="11、union"><a href="#11、union" class="headerlink" title="11、union"></a>11、union</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">#将查询结果集相加</span><br><span class="line">案例：找出工作岗位是SALESMAN和MANAGER的员工？</span><br><span class="line">第一种：select ename,job from emp where job = &#x27;MANAGER&#x27; or job = &#x27;SALESMAN&#x27;;</span><br><span class="line">第二种：select ename,job from emp where job in(&#x27;MANAGER&#x27;,&#x27;SALESMAN&#x27;);</span><br><span class="line">    +--------+----------+</span><br><span class="line">    | ename  | job      |</span><br><span class="line">    +--------+----------+</span><br><span class="line">    | ALLEN  | SALESMAN |</span><br><span class="line">    | WARD   | SALESMAN |</span><br><span class="line">    | JONES  | MANAGER  |</span><br><span class="line">    | MARTIN | SALESMAN |</span><br><span class="line">    | BLAKE  | MANAGER  |</span><br><span class="line">    | CLARK  | MANAGER  |</span><br><span class="line">    | TURNER | SALESMAN |</span><br><span class="line">    +--------+----------+</span><br><span class="line">第三种：union</span><br><span class="line">select ename,job from emp where job = &#x27;MANAGER&#x27;</span><br><span class="line">union</span><br><span class="line">select ename,job from emp where job = &#x27;SALESMAN&#x27;;</span><br><span class="line">    +--------+----------+</span><br><span class="line">    | ename  | job      |</span><br><span class="line">    +--------+----------+</span><br><span class="line">    | JONES  | MANAGER  |</span><br><span class="line">    | BLAKE  | MANAGER  |</span><br><span class="line">    | CLARK  | MANAGER  |</span><br><span class="line">    | ALLEN  | SALESMAN |</span><br><span class="line">    | WARD   | SALESMAN |</span><br><span class="line">    | MARTIN | SALESMAN |</span><br><span class="line">    | TURNER | SALESMAN |</span><br><span class="line">    +--------+----------+</span><br><span class="line"></span><br><span class="line">两张不相干的表中的数据拼接在一起显示？</span><br><span class="line">select ename from emp</span><br><span class="line">union</span><br><span class="line">select dname from dept; #能把查询结果拼成一列，前提是列数相同才能拼接，虽然拼接在一起的数据可能没什么意义</span><br><span class="line">    +------------+</span><br><span class="line">    | ename      |</span><br><span class="line">    +------------+</span><br><span class="line">    | SMITH      |</span><br><span class="line">    | ALLEN      |</span><br><span class="line">    | WARD       |</span><br><span class="line">    | JONES      |</span><br><span class="line">    | MARTIN     |</span><br><span class="line">    | BLAKE      |</span><br><span class="line">    | CLARK      |</span><br><span class="line">    | SCOTT      |</span><br><span class="line">    | KING       |</span><br><span class="line">    | TURNER     |</span><br><span class="line">    | ADAMS      |</span><br><span class="line">    | JAMES      |</span><br><span class="line">    | FORD       |</span><br><span class="line">    | MILLER     |</span><br><span class="line">    | ACCOUNTING |</span><br><span class="line">    | RESEARCH   |</span><br><span class="line">    | SALES      |</span><br><span class="line">    | OPERATIONS |</span><br><span class="line">    +------------+</span><br><span class="line"></span><br><span class="line">select ename,sal from emp</span><br><span class="line">union</span><br><span class="line">select dname from dept;#拼接时列数必须相同</span><br><span class="line">#ERROR 1222 (21000): The used SELECT statements have a different number of columns</span><br></pre></td></tr></table></figure>
<h5 id="12、limit-（重点）"><a href="#12、limit-（重点）" class="headerlink" title="12、limit （重点）"></a>12、limit （重点）</h5><p>1、limit是mysql特有的，其他数据库中没有，不通用。（Oracle中有一个相同的机制，叫rownum）</p>
<p>2、作用：limit取结果集中的部分数据</p>
<p>3、语法机制：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">limit startIndex, length</span><br><span class="line">	startIndex表示起始位置，从0开始，0表示第一条数据。</span><br><span class="line">	length表示取几个</span><br><span class="line">案例：取出工资前5名的员工（思路：降序取前5个）</span><br><span class="line">select ename,sal from emp order by sal desc;</span><br><span class="line">取前5个：</span><br><span class="line">select ename,sal from emp order by sal desc limit 0, 5;</span><br><span class="line">select ename,sal from emp order by sal desc limit 5;</span><br></pre></td></tr></table></figure>
<p>4、<code>limit</code> 是 sql 语句最后执行的一个环节：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">select			5</span><br><span class="line">	...</span><br><span class="line">from			1</span><br><span class="line">	...		</span><br><span class="line">where			2</span><br><span class="line">	...	</span><br><span class="line">group by		3</span><br><span class="line">	...</span><br><span class="line">having			4</span><br><span class="line">	...</span><br><span class="line">order by		6</span><br><span class="line">	...</span><br><span class="line">limit			7</span><br><span class="line">	...;</span><br></pre></td></tr></table></figure>
<p>5、案例：找出工资排名在第4到第9名的员工？</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">select ename,sal from emp order by sal desc limit 3,6;</span><br><span class="line">	+--------+---------+</span><br><span class="line">	| ename  | sal     |</span><br><span class="line">	+--------+---------+</span><br><span class="line">	| JONES  | 2975.00 |</span><br><span class="line">	| BLAKE  | 2850.00 |</span><br><span class="line">	| CLARK  | 2450.00 |</span><br><span class="line">	| ALLEN  | 1600.00 |</span><br><span class="line">	| TURNER | 1500.00 |</span><br><span class="line">	| MILLER | 1300.00 |</span><br><span class="line">	+--------+---------+</span><br></pre></td></tr></table></figure>
<p>6、通用的标准分页sql？</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">每页显示3条记录：</span><br><span class="line">第1页：0, 3</span><br><span class="line">第2页：3, 3</span><br><span class="line">第3页：6, 3</span><br><span class="line">第4页：9, 3</span><br><span class="line">第5页：12, 3</span><br><span class="line"></span><br><span class="line">每页显示pageSize条记录：</span><br><span class="line">第pageNo页：(pageNo - 1) * pageSize, pageSize</span><br><span class="line"></span><br><span class="line">pageSize是什么？是每页显示多少条记录</span><br><span class="line">pageNo是什么？显示第几页</span><br><span class="line"></span><br><span class="line">java代码&#123;</span><br><span class="line">	int pageNo = 2; // 页码是2</span><br><span class="line">	int pageSize = 10; // 每页显示10条</span><br><span class="line">	</span><br><span class="line">	limit (pageNo - 1) * pageSize, pageSize</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="5-2、数据定义语言（DDL）"><a href="#5-2、数据定义语言（DDL）" class="headerlink" title="5.2、数据定义语言（DDL）"></a>5.2、数据定义语言（DDL）</h4><h5 id="1、创建表"><a href="#1、创建表" class="headerlink" title="1、创建表"></a>1、创建表</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">建表语句的语法格式：</span><br><span class="line">	create table 表名(</span><br><span class="line">		字段名1 数据类型,</span><br><span class="line">		字段名2 数据类型,</span><br><span class="line">		字段名3 数据类型,</span><br><span class="line">		....</span><br><span class="line">	);</span><br><span class="line"></span><br><span class="line">关于MySQL当中字段的数据类型？以下只说常见的</span><br><span class="line">	int		整数型(java中的int)</span><br><span class="line">	bigint	长整型(java中的long)</span><br><span class="line">	float	浮点型(java中的float double)</span><br><span class="line">	char	定长字符串(String)</span><br><span class="line">	varchar	可变长字符串(StringBuffer/StringBuilder) 最多存储255个字符</span><br><span class="line">	date	日期类型 （对应Java中的java.sql.Date类型）</span><br><span class="line">	BLOB	二进制大对象（存储图片、视频等流媒体信息） Binary Large OBject （对应java中的Object）</span><br><span class="line">	CLOB	字符大对象（存储较大文本，比如，可以存储4G的字符串。） Character Large OBject（对应java中的Object）</span><br><span class="line">	......</span><br><span class="line"></span><br><span class="line">char 和 varchar怎么选择？</span><br><span class="line">	在实际的开发中，当某个字段中的数据长度不发生改变的时候，是定长的，例如：性别、生日等都是采用char。</span><br><span class="line">	当一个字段的数据长度不确定，例如：简介、姓名等都是采用varchar。</span><br><span class="line"></span><br><span class="line">BLOB 和 CLOB类型的使用？</span><br><span class="line">	电影表: t_movie</span><br><span class="line">	id(int)	name(varchar)</span><br><span class="line">	playtime(date/char)		上映时间</span><br><span class="line">	haibao(BLOB)			海报（图片） #图片必须使用java中的IO流才能放在表当中使用sql的insert不行，一般是将图片放在硬盘中，数据库中存储该图片的路径</span><br><span class="line">	history(CLOB)			剧情梗概（大文本）</span><br><span class="line"></span><br><span class="line">表名在数据库当中一般建议以：t_或者tbl_开始。</span><br><span class="line"></span><br><span class="line">创建学生表：</span><br><span class="line">	学生信息包括：</span><br><span class="line">		学号、姓名、性别、班级编号、生日</span><br><span class="line">		学号：bigint</span><br><span class="line">		姓名：varchar</span><br><span class="line">		性别：char</span><br><span class="line">		班级编号：int</span><br><span class="line">		生日：char</span><br><span class="line">	</span><br><span class="line">	create table t_student(</span><br><span class="line">		no bigint,</span><br><span class="line">		name varchar(255),</span><br><span class="line">		sex char(1),</span><br><span class="line">		classno varchar(255),</span><br><span class="line">		birth char(10)</span><br><span class="line">	);</span><br></pre></td></tr></table></figure>
<h5 id="2、对于表结构的修改"><a href="#2、对于表结构的修改" class="headerlink" title="2、对于表结构的修改"></a>2、对于表结构的修改</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">alter</span><br><span class="line">这里不讲了，大家使用工具完成即可，因为在实际开发中表一旦</span><br><span class="line">设计好之后，对表结构的修改是很少的，修改表结构就是对之前的设计进行了否定，即使</span><br><span class="line">需要修改表结构，我们也可以直接使用工具操作。修改表结构的语句不会出现在Java代码当中。</span><br><span class="line">出现在java代码当中的sql包括： insert delete update select（这些都是表中的数据操作。）</span><br><span class="line"></span><br><span class="line">增删改查有一个术语：CRUD操作</span><br><span class="line">Create（增） Retrieve（检索） Update（修改） Delete（删除）</span><br></pre></td></tr></table></figure>
<h5 id="3、约束-Constraint"><a href="#3、约束-Constraint" class="headerlink" title="3、约束(Constraint)"></a>3、约束(Constraint)</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br></pre></td><td class="code"><pre><span class="line">1、什么是约束？常见的约束有哪些呢？</span><br><span class="line">	在创建表的时候，可以给表的字段添加相应的约束，添加约束的目的是为了保证表中数据的</span><br><span class="line">	合法性、有效性、完整性。</span><br><span class="line">	常见的约束有哪些呢？</span><br><span class="line">		非空约束(not null)：约束的字段不能为NULL</span><br><span class="line">		唯一约束(unique)：约束的字段不能重复</span><br><span class="line">		主键约束(primary key)：约束的字段既不能为NULL，也不能重复（简称PK）</span><br><span class="line">		外键约束(foreign key)：...（简称FK）</span><br><span class="line">		检查约束(check)：注意Oracle数据库有check约束，但是mysql没有，目前mysql不支持该约束。</span><br><span class="line"></span><br><span class="line">2、非空约束 not null</span><br><span class="line">drop table if exists t_user;</span><br><span class="line">create table t_user(</span><br><span class="line">	id int,</span><br><span class="line">	username varchar(255) not null,</span><br><span class="line">	password varchar(255)</span><br><span class="line">);</span><br><span class="line">insert into t_user(id,password) values(1,&#x27;123&#x27;);</span><br><span class="line">	#ERROR 1364 (HY000): Field &#x27;username&#x27; doesn&#x27;t have a default value</span><br><span class="line">insert into t_user(id,username,password) values(1,&#x27;lisi&#x27;,&#x27;123&#x27;);</span><br><span class="line"></span><br><span class="line">3、唯一性约束（unique）</span><br><span class="line">* 唯一约束修饰的字段具有唯一性，不能重复。但可以为NULL。</span><br><span class="line">* 案例：给某一列添加unique</span><br><span class="line">drop table if exists t_user;</span><br><span class="line">create table t_user(</span><br><span class="line">	id int,</span><br><span class="line">	username varchar(255) unique  #列级约束</span><br><span class="line">);</span><br><span class="line">insert into t_user values(1,&#x27;zhangsan&#x27;);</span><br><span class="line">insert into t_user values(2,&#x27;zhangsan&#x27;);</span><br><span class="line">#ERROR 1062 (23000): Duplicate entry &#x27;zhangsan&#x27; for key &#x27;username&#x27;</span><br><span class="line"></span><br><span class="line">insert into t_user(id) values(2);</span><br><span class="line">insert into t_user(id) values(3);</span><br><span class="line">insert into t_user(id) values(4);</span><br><span class="line"></span><br><span class="line">* 案例：给两个列或者多个列添加unique</span><br><span class="line">drop table if exists t_user;</span><br><span class="line">create table t_user(</span><br><span class="line">	id int, </span><br><span class="line">	usercode varchar(255),</span><br><span class="line">	username varchar(255),</span><br><span class="line">	unique(usercode,username) // 多个字段联合起来添加1个约束unique 【表级约束】</span><br><span class="line">);</span><br><span class="line">insert into t_user values(1,&#x27;111&#x27;,&#x27;zs&#x27;);</span><br><span class="line">insert into t_user values(2,&#x27;111&#x27;,&#x27;ls&#x27;);</span><br><span class="line">insert into t_user values(3,&#x27;222&#x27;,&#x27;zs&#x27;);</span><br><span class="line">select * from t_user;</span><br><span class="line">insert into t_user values(4,&#x27;111&#x27;,&#x27;zs&#x27;);</span><br><span class="line">#ERROR 1062 (23000): Duplicate entry &#x27;111-zs&#x27; for key &#x27;usercode&#x27;</span><br><span class="line"></span><br><span class="line">drop table if exists t_user;</span><br><span class="line">create table t_user(</span><br><span class="line">	id int, </span><br><span class="line">	usercode varchar(255) unique,</span><br><span class="line">	username varchar(255) unique #两个列级约束</span><br><span class="line">);</span><br><span class="line">insert into t_user values(1,&#x27;111&#x27;,&#x27;zs&#x27;);</span><br><span class="line">insert into t_user values(2,&#x27;111&#x27;,&#x27;ls&#x27;);</span><br><span class="line">#ERROR 1062 (23000): Duplicate entry &#x27;111&#x27; for key &#x27;usercode&#x27;</span><br><span class="line">* 注意： unique既有列级约束又有表级约束， not null约束只有列级约束。没有表级约束。</span><br><span class="line"></span><br><span class="line">4、主键约束</span><br><span class="line">* 怎么给一张表添加主键约束呢？</span><br><span class="line">drop table if exists t_user;</span><br><span class="line">create table t_user(</span><br><span class="line">	id int primary key,  # 列级约束</span><br><span class="line">	username varchar(255),</span><br><span class="line">	email varchar(255)</span><br><span class="line">);</span><br><span class="line">insert into t_user(id,username,email) values(1,&#x27;zs&#x27;,&#x27;zs@123.com&#x27;);</span><br><span class="line">insert into t_user(id,username,email) values(2,&#x27;ls&#x27;,&#x27;ls@123.com&#x27;);</span><br><span class="line">insert into t_user(id,username,email) values(3,&#x27;ww&#x27;,&#x27;ww@123.com&#x27;);</span><br><span class="line">select * from t_user;</span><br><span class="line">	+----+----------+------------+</span><br><span class="line">	| id | username | email      |</span><br><span class="line">	+----+----------+------------+</span><br><span class="line">	|  1 | zs       | zs@123.com |</span><br><span class="line">	|  2 | ls       | ls@123.com |</span><br><span class="line">	|  3 | ww       | ww@123.com |</span><br><span class="line">	+----+----------+------------+</span><br><span class="line"></span><br><span class="line">insert into t_user(id,username,email) values(1,&#x27;jack&#x27;,&#x27;jack@123.com&#x27;);</span><br><span class="line">#ERROR 1062 (23000): Duplicate entry &#x27;1&#x27; for key &#x27;PRIMARY&#x27;</span><br><span class="line"></span><br><span class="line">insert into t_user(username,email) values(&#x27;jack&#x27;,&#x27;jack@123.com&#x27;);</span><br><span class="line">#ERROR 1364 (HY000): Field &#x27;id&#x27; doesn&#x27;t have a default value</span><br><span class="line">	</span><br><span class="line">根据以上的测试得出：id是主键，因为添加了主键约束，主键字段中的数据不能为NULL，也不能重复。</span><br><span class="line">主键的特点：不能为NULL，也不能重复。</span><br><span class="line"></span><br><span class="line">* 主键相关的术语？</span><br><span class="line">	主键约束 : primary key</span><br><span class="line">	主键字段 : id字段添加 primary key之后，id叫做主键字段</span><br><span class="line">	主键值 : id字段中的每一个值都是主键值。</span><br><span class="line"></span><br><span class="line">* 主键有什么作用？</span><br><span class="line">	- 表的设计三范式中有要求，第一范式就要求任何一张表都应该有主键。</span><br><span class="line">	- 主键的作用：主键值是这行记录在这张表当中的唯一标识。（就像一个人的身份证号码一样。）</span><br><span class="line"></span><br><span class="line">* 主键的分类？</span><br><span class="line">根据主键字段的字段数量来划分：</span><br><span class="line">	单一主键（推荐的，常用的。）</span><br><span class="line">	复合主键(多个字段联合起来添加一个主键约束)（复合主键不建议使用，因为复合主键违背三范式。）</span><br><span class="line">根据主键性质来划分：</span><br><span class="line">	自然主键：主键值最好就是一个和业务没有任何关系的自然数。（这种方式是推荐的）</span><br><span class="line">	业务主键：主键值和系统的业务挂钩，例如：拿着银行卡的卡号做主键，拿着身份证号码作为主键。（不推荐用）</span><br><span class="line">	#最好不要拿着和业务挂钩的字段作为主键。因为以后业务一旦发生改变的时候，主键值可能也需要随着发生变化，但有的时候没有办法变化，因为变化可能会导致主键值重复。</span><br><span class="line"></span><br><span class="line">* 一张表的主键约束只能有1个。（必须记住）</span><br><span class="line">* 使用表级约束方式定义主键：</span><br><span class="line">drop table if exists t_user;</span><br><span class="line">create table t_user(</span><br><span class="line">	id int,</span><br><span class="line">	username varchar(255),</span><br><span class="line">	primary key(id)</span><br><span class="line">);</span><br><span class="line">insert into t_user(id,username) values(1,&#x27;zs&#x27;);</span><br><span class="line">insert into t_user(id,username) values(2,&#x27;ls&#x27;);</span><br><span class="line">insert into t_user(id,username) values(3,&#x27;ws&#x27;);</span><br><span class="line">insert into t_user(id,username) values(4,&#x27;cs&#x27;);</span><br><span class="line">select * from t_user;</span><br><span class="line"></span><br><span class="line">insert into t_user(id,username) values(4,&#x27;cx&#x27;);</span><br><span class="line">#ERROR 1062 (23000): Duplicate entry &#x27;4&#x27; for key &#x27;PRIMARY&#x27;</span><br><span class="line"></span><br><span class="line">以下内容是演示以下复合主键，不需要掌握：</span><br><span class="line">drop table if exists t_user;</span><br><span class="line">create table t_user(</span><br><span class="line">	id int,</span><br><span class="line">	username varchar(255),</span><br><span class="line">	password varchar(255),</span><br><span class="line">	primary key(id,username)</span><br><span class="line">);</span><br><span class="line">insert .......</span><br><span class="line"></span><br><span class="line">* mysql提供主键值自增：（非常重要。）</span><br><span class="line">drop table if exists t_user;</span><br><span class="line">create table t_user(</span><br><span class="line">	id int primary key auto_increment, </span><br><span class="line">    #id字段自动维护一个自增的数字，从1开始，以1递增。</span><br><span class="line">	username varchar(255)</span><br><span class="line">);</span><br><span class="line">insert into t_user(username) values(&#x27;a&#x27;);</span><br><span class="line">insert into t_user(username) values(&#x27;b&#x27;);</span><br><span class="line">insert into t_user(username) values(&#x27;c&#x27;);</span><br><span class="line">insert into t_user(username) values(&#x27;d&#x27;);</span><br><span class="line">insert into t_user(username) values(&#x27;e&#x27;);</span><br><span class="line">insert into t_user(username) values(&#x27;f&#x27;);</span><br><span class="line">select * from t_user;</span><br><span class="line">#提示:Oracle当中也提供了一个自增机制，叫做：序列（sequence）对象。</span><br><span class="line"></span><br><span class="line">5、外键约束</span><br><span class="line">* 关于外键约束的相关术语：</span><br><span class="line">	外键约束: foreign key</span><br><span class="line">	外键字段：添加有外键约束的字段</span><br><span class="line">	外键值：外键字段中的每一个值。</span><br><span class="line"></span><br><span class="line">* 业务背景：</span><br><span class="line">请设计数据库表，用来维护学生和班级的信息？</span><br><span class="line">	第一种方案：一张表存储所有数据</span><br><span class="line">	no(pk)		name	classno		classname</span><br><span class="line">	------------------------------------------------</span><br><span class="line">	1			zs1		101			北京亦庄二中高三1班</span><br><span class="line">	2			zs2		101			北京亦庄二中高三1班</span><br><span class="line">	3			zs3		102			北京亦庄二中高三2班</span><br><span class="line">	4			zs4		102			北京亦庄二中高三2班</span><br><span class="line">	5			zs5		102			北京亦庄二中高三2班</span><br><span class="line">	缺点：冗余。【不推荐】</span><br><span class="line"></span><br><span class="line">	第二种方案：两张表（班级表和学生表）</span><br><span class="line">	t_class 班级表</span><br><span class="line">	cno(pk)		cname</span><br><span class="line">	------------------------</span><br><span class="line">	101		北京亦庄二中高三1班</span><br><span class="line">	102		北京亦庄二中高三2班</span><br><span class="line"></span><br><span class="line">	t_student 学生表</span><br><span class="line">	sno(pk)		sname		classno(fk)#该字段添加外键约束</span><br><span class="line">	--------------------------------------------------</span><br><span class="line">	1			zs1			101</span><br><span class="line">	2			zs2			101</span><br><span class="line">	3			zs3			102</span><br><span class="line">	4			zs4			102</span><br><span class="line">	5			zs5			102</span><br><span class="line">	</span><br><span class="line">* 将以上表的建表语句写出来：</span><br><span class="line">	t_student中的classno字段引用t_class表中的cno字段，此时t_student表叫做子表。t_class表叫做父表。</span><br><span class="line">	顺序要求：</span><br><span class="line">		删除数据的时候，先删除子表，再删除父表。</span><br><span class="line">		添加数据的时候，先添加父表，再添加子表。</span><br><span class="line">		创建表的时候，先创建父表，再创建子表。</span><br><span class="line">		删除表的时候，先删除子表，再删除父表。</span><br><span class="line">drop table if exists t_student;</span><br><span class="line">drop table if exists t_class;</span><br><span class="line">create table t_class(</span><br><span class="line">	cno int,</span><br><span class="line">	cname varchar(255),</span><br><span class="line">	primary key(cno)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">create table t_student(</span><br><span class="line">	sno int,</span><br><span class="line">	sname varchar(255),</span><br><span class="line">	classno int,</span><br><span class="line">	primary key(sno),</span><br><span class="line">	foreign key(classno) references t_class(cno)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">insert into t_class values(101,&#x27;xxxxxxx&#x27;);</span><br><span class="line">insert into t_class values(102,&#x27;yyyyyyy&#x27;);</span><br><span class="line"></span><br><span class="line">insert into t_student values(1,&#x27;zs1&#x27;,101);</span><br><span class="line">insert into t_student values(2,&#x27;zs2&#x27;,101);</span><br><span class="line">insert into t_student values(3,&#x27;zs3&#x27;,102);</span><br><span class="line">insert into t_student values(4,&#x27;zs4&#x27;,102);</span><br><span class="line">insert into t_student values(5,&#x27;zs5&#x27;,102);</span><br><span class="line">insert into t_student values(6,&#x27;zs6&#x27;,102);</span><br><span class="line">select * from t_class;</span><br><span class="line">select * from t_student;</span><br><span class="line"></span><br><span class="line">insert into t_student values(7,&#x27;lisi&#x27;,103);</span><br><span class="line">#ERROR 1452 (23000): Cannot add or update a child row: a foreign key constraint fails (`bjpowernode`.INT `t_student_ibfk_1` FOREIGN KEY (`classno`) REFERENCES `t_class` (`cno`))</span><br><span class="line"></span><br><span class="line">* 外键值可以为NULL</span><br><span class="line"></span><br><span class="line">* 外键字段引用其他表的某个字段的时候，被引用的字段必须是主键吗？</span><br><span class="line">	注意：被引用的字段不一定是主键，但至少具有unique约束。一般情况下都是引用主键</span><br></pre></td></tr></table></figure>
<h5 id="4、删除表"><a href="#4、删除表" class="headerlink" title="4、删除表"></a>4、删除表</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">drop table 表名; #这个通用。</span><br><span class="line">drop table if exists 表名; #oracle不支持这种写法。</span><br></pre></td></tr></table></figure>

<h4 id="5-3、数据操作语言（DML）"><a href="#5-3、数据操作语言（DML）" class="headerlink" title="5.3、数据操作语言（DML）"></a>5.3、数据操作语言（DML）</h4><h5 id="1、insert语句插入数据"><a href="#1、insert语句插入数据" class="headerlink" title="1、insert语句插入数据"></a>1、insert语句插入数据</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line">语法格式：</span><br><span class="line">insert into 表名(字段名1,字段名2,字段名3,....) values(值1,值2,值3,....)</span><br><span class="line">	要求：字段的数量和值的数量相同，并且数据类型要对应相同。</span><br><span class="line">insert into t_student(no,name,sex,classno,birth) values(1,&#x27;zhangsan&#x27;,&#x27;1&#x27;,&#x27;gaosan1ban&#x27;);</span><br><span class="line">#ERROR 1136 (21S01): Column count doesn&#x27;t match value count at row 1</span><br><span class="line"></span><br><span class="line">insert into t_student(no,name,sex,classno,birth) values(1,&#x27;zhangsan&#x27;,&#x27;1&#x27;,&#x27;gaosan1ban&#x27;, &#x27;1950-10-12&#x27;);</span><br><span class="line">select * from t_student;</span><br><span class="line">    +------+----------+------+------------+------------+</span><br><span class="line">    | no   | name     | sex  | classno    | birth      |</span><br><span class="line">    +------+----------+------+------------+------------+</span><br><span class="line">    |    1 | zhangsan | 1    | gaosan1ban | 1950-10-12 |</span><br><span class="line">    +------+----------+------+------------+------------+</span><br><span class="line"></span><br><span class="line">insert into t_student(name,sex,classno,birth,no) values(&#x27;lisi&#x27;,&#x27;1&#x27;,&#x27;gaosan1ban&#x27;, &#x27;1950-10-12&#x27;,2);</span><br><span class="line">select * from t_student;</span><br><span class="line">    +------+----------+------+------------+------------+</span><br><span class="line">    | no   | name     | sex  | classno    | birth      |</span><br><span class="line">    +------+----------+------+------------+------------+</span><br><span class="line">    |    1 | zhangsan | 1    | gaosan1ban | 1950-10-12 |</span><br><span class="line">    |    2 | lisi     | 1    | gaosan1ban | 1950-10-12 |</span><br><span class="line">    +------+----------+------+------------+------------+</span><br><span class="line"></span><br><span class="line">insert into t_student(name) values(&#x27;wangwu&#x27;); #除name字段之外，剩下的所有字段自动插入NULL。</span><br><span class="line">select * from t_student;</span><br><span class="line">+------+----------+------+------------+------------+</span><br><span class="line">| no   | name     | sex  | classno    | birth      |</span><br><span class="line">+------+----------+------+------------+------------+</span><br><span class="line">|    1 | zhangsan | 1    | gaosan1ban | 1950-10-12 |</span><br><span class="line">|    2 | lisi     | 1    | gaosan1ban | 1950-10-12 |</span><br><span class="line">| NULL | wangwu   | NULL | NULL       | NULL       |</span><br><span class="line">+------+----------+------+------------+------------+</span><br><span class="line"></span><br><span class="line">insert into t_student(no) values(3); </span><br><span class="line">select * from t_student;</span><br><span class="line">+------+----------+------+------------+------------+</span><br><span class="line">| no   | name     | sex  | classno    | birth      |</span><br><span class="line">+------+----------+------+------------+------------+</span><br><span class="line">|    1 | zhangsan | 1    | gaosan1ban | 1950-10-12 |</span><br><span class="line">|    2 | lisi     | 1    | gaosan1ban | 1950-10-12 |</span><br><span class="line">| NULL | wangwu   | NULL | NULL       | NULL       |</span><br><span class="line">|    3 | NULL     | NULL | NULL       | NULL       |</span><br><span class="line">+------+----------+------+------------+------------+</span><br><span class="line"></span><br><span class="line">drop table if exists t_student; #当这个表存在的话删除。</span><br><span class="line">create table t_student(</span><br><span class="line">	no bigint,</span><br><span class="line">	name varchar(255),</span><br><span class="line">	sex char(1) default 1,#不写default默认值是null</span><br><span class="line">	classno varchar(255),</span><br><span class="line">	birth char(10)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">insert into t_student(name) values(&#x27;zhangsan&#x27;);</span><br><span class="line">select * from t_student;</span><br><span class="line">    +------+----------+------+---------+-------+</span><br><span class="line">    | no   | name     | sex  | classno | birth |</span><br><span class="line">    +------+----------+------+---------+-------+</span><br><span class="line">    | NULL | zhangsan | 1    | NULL    | NULL  |</span><br><span class="line">    +------+----------+------+---------+-------+</span><br><span class="line"></span><br><span class="line">需要注意的地方：</span><br><span class="line">	当一条insert语句执行成功之后，表格当中必然会多一行记录。</span><br><span class="line">	即使多的这一行记录当中某些字段是NULL，后期也没有办法再执行</span><br><span class="line">	insert语句插入数据后，只能使用update进行更新。</span><br><span class="line"></span><br><span class="line">#字段可以省略不写，但是后面的value对数量和顺序都有要求。</span><br><span class="line">insert into t_student values(1,&#x27;jack&#x27;,&#x27;0&#x27;,&#x27;gaosan2ban&#x27;,&#x27;1986-10-23&#x27;);</span><br><span class="line">select * from t_student;</span><br><span class="line">    +------+----------+------+------------+------------+</span><br><span class="line">    | no   | name     | sex  | classno    | birth      |</span><br><span class="line">    +------+----------+------+------------+------------+</span><br><span class="line">    | NULL | zhangsan | 1    | NULL       | NULL       |</span><br><span class="line">    |    1 | jack     | 0    | gaosan2ban | 1986-10-23 |</span><br><span class="line">    +------+----------+------+------------+------------+</span><br><span class="line"></span><br><span class="line">insert into t_student values(1,&#x27;jack&#x27;,&#x27;0&#x27;,&#x27;gaosan2ban&#x27;);</span><br><span class="line">#ERROR 1136 (21S01): Column count doesn&#x27;t match value count at row 1</span><br><span class="line"></span><br><span class="line"># 一次插入多行数据</span><br><span class="line">insert into t_student</span><br><span class="line">	(no,name,sex,classno,birth) </span><br><span class="line">values</span><br><span class="line">	(3,&#x27;rose&#x27;,&#x27;1&#x27;,&#x27;gaosi2ban&#x27;,&#x27;1952-12-14&#x27;),(4,&#x27;laotie&#x27;,&#x27;1&#x27;,&#x27;gaosi2ban&#x27;,&#x27;1955-12-14&#x27;);</span><br><span class="line"></span><br><span class="line">select * from t_student;</span><br><span class="line">    +------+----------+------+------------+------------+</span><br><span class="line">    | no   | name     | sex  | classno    | birth      |</span><br><span class="line">    +------+----------+------+------------+------------+</span><br><span class="line">    | NULL | zhangsan | 1    | NULL       | NULL       |</span><br><span class="line">    |    1 | jack     | 0    | gaosan2ban | 1986-10-23 |</span><br><span class="line">    |    3 | rose     | 1    | gaosi2ban  | 1952-12-14 |</span><br><span class="line">    |    4 | laotie   | 1    | gaosi2ban  | 1955-12-14 |</span><br><span class="line">    +------+----------+------+------------+------------+</span><br></pre></td></tr></table></figure>
<h5 id="2、表的复制"><a href="#2、表的复制" class="headerlink" title="2、表的复制"></a>2、表的复制</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">语法：</span><br><span class="line">	create table 表名 as select语句;</span><br><span class="line">	将查询结果当做表创建出来。</span><br><span class="line">create table emp2 as select empno,ename from emp;</span><br></pre></td></tr></table></figure>

<h5 id="3、将查询结果插入到一张表中"><a href="#3、将查询结果插入到一张表中" class="headerlink" title="3、将查询结果插入到一张表中"></a>3、将查询结果插入到一张表中</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">create table dept1 as select * from dept;</span><br><span class="line">insert into dept1 select * from dept;#将查询结果插入到一张表中</span><br><span class="line">select * from dept1;</span><br><span class="line">	+--------+------------+----------+</span><br><span class="line">	| DEPTNO | DNAME      | LOC      |</span><br><span class="line">	+--------+------------+----------+</span><br><span class="line">	|     10 | ACCOUNTING | NEW YORK |</span><br><span class="line">	|     20 | RESEARCH   | DALLAS   |</span><br><span class="line">	|     30 | SALES      | CHICAGO  |</span><br><span class="line">	|     40 | OPERATIONS | BOSTON   |</span><br><span class="line">	|     10 | ACCOUNTING | NEW YORK |</span><br><span class="line">	|     20 | RESEARCH   | DALLAS   |</span><br><span class="line">	|     30 | SALES      | CHICAGO  |</span><br><span class="line">	|     40 | OPERATIONS | BOSTON   |</span><br><span class="line">	+--------+------------+----------+</span><br></pre></td></tr></table></figure>
<h5 id="4、修改数据：update"><a href="#4、修改数据：update" class="headerlink" title="4、修改数据：update"></a>4、修改数据：update</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">语法格式：</span><br><span class="line">	update 表名 set 字段名1=值1,字段名2=值2... where 条件;</span><br><span class="line">注意：没有条件整张表数据全部更新。</span><br><span class="line">	</span><br><span class="line">案例：将部门10的LOC修改为SHANGHAI，将部门名称修改为RENSHIBU</span><br><span class="line">update dept1 set loc = &#x27;SHANGHAI&#x27;, dname = &#x27;RENSHIBU&#x27; where deptno = 10;</span><br><span class="line">select * from dept1;</span><br><span class="line">	+--------+------------+----------+</span><br><span class="line">	| DEPTNO | DNAME      | LOC      |</span><br><span class="line">	+--------+------------+----------+</span><br><span class="line">	|     10 | RENSHIBU   | SHANGHAI |</span><br><span class="line">	|     20 | RESEARCH   | DALLAS   |</span><br><span class="line">	|     30 | SALES      | CHICAGO  |</span><br><span class="line">	|     40 | OPERATIONS | BOSTON   |</span><br><span class="line">	|     10 | RENSHIBU   | SHANGHAI |</span><br><span class="line">	|     20 | RESEARCH   | DALLAS   |</span><br><span class="line">	|     30 | SALES      | CHICAGO  |</span><br><span class="line">	|     40 | OPERATIONS | BOSTON   |</span><br><span class="line">	+--------+------------+----------+</span><br><span class="line"></span><br><span class="line">更新所有记录</span><br><span class="line">update dept1 set loc = &#x27;x&#x27;, dname = &#x27;y&#x27;;#没有加where条件修改所有记录</span><br><span class="line">select * from dept1;</span><br><span class="line">		+--------+-------+------+</span><br><span class="line">		| DEPTNO | DNAME | LOC  |</span><br><span class="line">		+--------+-------+------+</span><br><span class="line">		|     10 | y     | x    |</span><br><span class="line">		|     20 | y     | x    |</span><br><span class="line">		|     30 | y     | x    |</span><br><span class="line">		|     40 | y     | x    |</span><br><span class="line">		|     10 | y     | x    |</span><br><span class="line">		|     20 | y     | x    |</span><br><span class="line">		|     30 | y     | x    |</span><br><span class="line">		|     40 | y     | x    |</span><br><span class="line">		+--------+-------+------+</span><br></pre></td></tr></table></figure>
<h5 id="5、删除数据"><a href="#5、删除数据" class="headerlink" title="5、删除数据"></a>5、删除数据</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">语法格式：</span><br><span class="line">	delete from 表名 where 条件;</span><br><span class="line">注意：没有条件全部删除。</span><br><span class="line">	</span><br><span class="line">删除10部门数据？</span><br><span class="line">	delete from dept1 where deptno = 10;</span><br><span class="line">删除所有记录？</span><br><span class="line">	delete from dept1;</span><br><span class="line">#delete 删除数据的时候速度慢，原因是没有真正的释放存储空间，可以回滚</span><br><span class="line">怎么删除大表中的数据？（重点）</span><br><span class="line">	truncate table 表名; #表被截断，不可回滚。永久丢失。</span><br></pre></td></tr></table></figure>

<h3 id="6、存储引擎（了解内容）"><a href="#6、存储引擎（了解内容）" class="headerlink" title="6、存储引擎（了解内容）"></a>6、存储引擎（了解内容）</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">6.1、完整的建表语句</span><br><span class="line">	CREATE TABLE `t_x` (</span><br><span class="line">	  `id` int(11) DEFAULT NULL</span><br><span class="line">	) ENGINE=InnoDB DEFAULT CHARSET = utf8;</span><br><span class="line">注意：在MySQL当中，凡是标识符是可以使用飘号`括起来的。最好别用，不通用。</span><br><span class="line">	建表的时候可以指定存储引擎，也可以指定字符集。</span><br><span class="line">	mysql默认使用的存储引擎是InnoDB方式。</span><br><span class="line">	默认采用的字符集是UTF8</span><br><span class="line"></span><br><span class="line">6.2、什么是存储引擎呢？</span><br><span class="line">	存储引擎这个名字只有在mysql中存在。（Oracle中有对应的机制，但是不叫做存储引擎。Oracle中没有特殊的名字，就是“表的存储方式”）</span><br><span class="line">	mysql支持很多存储引擎，每一个存储引擎都对应了一种不同的存储方式。</span><br><span class="line">	每一个存储引擎都有自己的优缺点，需要在合适的时机选择合适的存储引擎。</span><br><span class="line"></span><br><span class="line">6.3、查看当前mysql支持的存储引擎？</span><br><span class="line">	show engines \G</span><br><span class="line">	#5.5.62版本支持9个存储引擎</span><br><span class="line">6.4、常见的存储引擎？</span><br><span class="line"></span><br><span class="line">		Engine: MyISAM</span><br><span class="line">			  Support: YES</span><br><span class="line">			  Comment: MyISAM storage engine</span><br><span class="line">		Transactions: NO</span><br><span class="line">					 XA: NO</span><br><span class="line">		  Savepoints: NO</span><br><span class="line">		</span><br><span class="line">		MyISAM这种存储引擎不支持事务。</span><br><span class="line">		MyISAM是mysql最常用的存储引擎，但是这种引擎不是默认的。</span><br><span class="line">		MyISAM采用三个文件组织一张表：</span><br><span class="line">			xxx.frm（存储格式（表结构）的文件）</span><br><span class="line">			xxx.MYD（存储表中数据的文件）</span><br><span class="line">			xxx.MYI（存储表中索引的文件）</span><br><span class="line">		优点：可被压缩，节省存储空间。并且可以转换为只读表，提高检索效率。</span><br><span class="line">		缺点：不支持事务。</span><br><span class="line">	-----------------------------------------------------------------------------</span><br><span class="line">			  Engine: InnoDB</span><br><span class="line">			  Support: DEFAULT</span><br><span class="line">			  Comment: Supports transactions, row-level locking, and foreign keys</span><br><span class="line">		Transactions: YES</span><br><span class="line">					 XA: YES</span><br><span class="line">		  Savepoints: YES</span><br><span class="line">			</span><br><span class="line">		优点：支持事务、行级锁、外键等。这种存储引擎数据的安全得到保障。</span><br><span class="line">		</span><br><span class="line">		表的结构存储在xxx.frm文件中</span><br><span class="line">		数据存储在 tablespace这样的表空间中（逻辑概念），无法被压缩，无法转换成只读。</span><br><span class="line">		这种 InnoDB存储引擎在MySQL数据库崩溃之后提供自动恢复机制。</span><br><span class="line">		InnoDB支持级联删除和级联更新。</span><br><span class="line">	-------------------------------------------------------------------------------------</span><br><span class="line">				Engine: MEMORY</span><br><span class="line">			  Support: YES</span><br><span class="line">			  Comment: Hash based, stored in memory, useful for temporary tables</span><br><span class="line">		Transactions: NO</span><br><span class="line">					 XA: NO</span><br><span class="line">		  Savepoints: NO</span><br><span class="line">		</span><br><span class="line">		缺点：不支持事务。数据容易丢失。因为所有数据和索引都是存储在内存当中的。</span><br><span class="line">		优点：查询速度最快。</span><br><span class="line">		以前叫做HEPA引擎。</span><br></pre></td></tr></table></figure>

<h4 id="6-1、面试题"><a href="#6-1、面试题" class="headerlink" title="6.1、面试题"></a>6.1、面试题</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">有 3 个表 S(学生表)，C（课程表），SC（学生选课表）</span><br><span class="line">S（SNO，SNAME）代表（学号，姓名）</span><br><span class="line">C（CNO，CNAME，CTEACHER）代表（课号，课名，教师）</span><br><span class="line">SC（SNO，CNO，SCGRADE）代表（学号，课号，成绩）</span><br><span class="line">问题：</span><br><span class="line">1，找出没选过“黎明”老师的所有学生姓名。</span><br><span class="line">select xx from sc </span><br><span class="line">2，列出 2 门以上（含2 门）不及格学生姓名及平均成绩。</span><br><span class="line">3，即学过 1 号课程又学过 2 号课所有学生的姓名。</span><br></pre></td></tr></table></figure>



<h3 id="7、事务（Transaction）"><a href="#7、事务（Transaction）" class="headerlink" title="7、事务（Transaction）"></a>7、事务（Transaction）</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br></pre></td><td class="code"><pre><span class="line">7.1、什么是事务？</span><br><span class="line">	一个事务是一个完整的业务逻辑单元，不可再分。</span><br><span class="line"></span><br><span class="line">	比如：银行账户转账，从A账户向B账户转账10000.需要执行两条update语句：</span><br><span class="line">update t_act set balance = balance - 10000 where actno = &#x27;act-001&#x27;;</span><br><span class="line">update t_act set balance = balance + 10000 where actno = &#x27;act-002&#x27;;</span><br><span class="line">	</span><br><span class="line">	以上两条DML语句必须同时成功，或者同时失败，不允许出现一条成功，一条失败。</span><br><span class="line">	要想保证以上的两条DML语句同时成功或者同时失败，那么就需要使用数据库的“事务机制”。</span><br><span class="line"></span><br><span class="line">7.2、和事务相关的语句只有：DML语句。（ insert delete update）*****</span><br><span class="line">	为什么？因为它们这三个语句都是和数据库表当中的“数据”相关的。</span><br><span class="line">	事务的存在是为了保证数据的完整性，安全性。</span><br><span class="line"></span><br><span class="line">7.3、假设所有的业务都能使用1条DML语句搞定，还需要事务机制吗？</span><br><span class="line">	不需要事务。</span><br><span class="line">	但实际情况不是这样的，通常一个“事儿（事务【业务】）”需要多条DML语句共同联合完成。</span><br><span class="line"></span><br><span class="line">7.4、事务的特性？</span><br><span class="line">	事务包括四大特性：ACID</span><br><span class="line">	A: 原子性：事务是最小的工作单元，不可再分。</span><br><span class="line">	C: 一致性：事务必须保证多条DML语句同时成功或者同时失败。</span><br><span class="line">	I：隔离性：事务A与事务B之间具有隔离。</span><br><span class="line">	D：持久性：持久性说的是最终数据必须持久化到硬盘文件中，事务才算成功的结束。</span><br><span class="line"></span><br><span class="line">7.5、关于事务之间的隔离性</span><br><span class="line">	事务隔离性存在隔离级别，理论上隔离级别包括4个：</span><br><span class="line">		第一级别：读未提交（ read uncommitted）</span><br><span class="line">			对方事务还没有提交，我们当前事务可以读取到对方未提交的数据。</span><br><span class="line">			读未提交存在脏读（Dirty Read）现象：表示读到了脏的数据。</span><br><span class="line">		第二级别：读已提交（ read committed）</span><br><span class="line">			对方事务提交之后的数据我方可以读取到。</span><br><span class="line">			这种隔离级别解决了: 脏读现象没有了。</span><br><span class="line">			读已提交存在的问题是：不可重复读。</span><br><span class="line">		第三级别：可重复读（ repeatable read）</span><br><span class="line">			这种隔离级别解决了：不可重复读问题。</span><br><span class="line">			这种隔离级别存在的问题是：读取到的数据是幻象。</span><br><span class="line">		第四级别：序列化读/串行化读（ serializable） </span><br><span class="line">			解决了所有问题。</span><br><span class="line">			效率低。需要事务排队。</span><br><span class="line">		</span><br><span class="line">		oracle数据库默认的隔离级别是：读已提交。</span><br><span class="line">		mysql数据库默认的隔离级别是：可重复读。</span><br><span class="line"></span><br><span class="line">7.6、演示事务</span><br><span class="line">	* mysql事务默认情况下是自动提交的。</span><br><span class="line">		（什么是自动提交？只要执行任意一条DML语句则提交一次。）怎么关闭自动提交？ start transaction;</span><br><span class="line">	</span><br><span class="line">	* 准备表：</span><br><span class="line">		drop table if exists t_user;</span><br><span class="line">		create table t_user(</span><br><span class="line">			id int primary key auto_increment,</span><br><span class="line">			username varchar(255)</span><br><span class="line">		);</span><br><span class="line">	</span><br><span class="line">	* 演示：mysql中的事务是支持自动提交的，只要执行一条DML，则提交一次。</span><br><span class="line">		mysql&gt; insert into t_user(username) values(&#x27;zs&#x27;);</span><br><span class="line">		Query OK, 1 row affected (0.03 sec)</span><br><span class="line">#下面展示的是mysql是自动提交的，执行完一条insert语句之后自动提交，回滚回不去</span><br><span class="line">		mysql&gt; select * from t_user;</span><br><span class="line">		+----+----------+</span><br><span class="line">		| id | username |</span><br><span class="line">		+----+----------+</span><br><span class="line">		|  1 | zs       |</span><br><span class="line">		+----+----------+</span><br><span class="line">		1 row in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">		mysql&gt; rollback;</span><br><span class="line">		Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">		mysql&gt; select * from t_user;</span><br><span class="line">		+----+----------+</span><br><span class="line">		| id | username |</span><br><span class="line">		+----+----------+</span><br><span class="line">		|  1 | zs       |</span><br><span class="line">		+----+----------+</span><br><span class="line">		1 row in set (0.00 sec)</span><br><span class="line">#下面演示的是关闭mysql的自动提交机制</span><br><span class="line">#使用 start transaction 表示开始一个事务，一旦使用rollback或者commit则该事务结束。</span><br><span class="line">	* 演示：使用 start transaction;关闭自动提交机制。</span><br><span class="line">		mysql&gt; start transaction;</span><br><span class="line">		Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">		mysql&gt; insert into t_user(username) values(&#x27;lisi&#x27;);</span><br><span class="line">		Query OK, 1 row affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">		mysql&gt; select * from t_user;</span><br><span class="line">		+----+----------+</span><br><span class="line">		| id | username |</span><br><span class="line">		+----+----------+</span><br><span class="line">		|  1 | zs       |</span><br><span class="line">		|  2 | lisi     |</span><br><span class="line">		+----+----------+</span><br><span class="line">		2 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">		mysql&gt; insert into t_user(username) values(&#x27;wangwu&#x27;);</span><br><span class="line">		Query OK, 1 row affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">		mysql&gt; select * from t_user;</span><br><span class="line">		+----+----------+</span><br><span class="line">		| id | username |</span><br><span class="line">		+----+----------+</span><br><span class="line">		|  1 | zs       |</span><br><span class="line">		|  2 | lisi     |</span><br><span class="line">		|  3 | wangwu   |</span><br><span class="line">		+----+----------+</span><br><span class="line">		3 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">		mysql&gt; rollback;</span><br><span class="line">		Query OK, 0 rows affected (0.02 sec)</span><br><span class="line"></span><br><span class="line">		mysql&gt; select * from t_user;</span><br><span class="line">		+----+----------+</span><br><span class="line">		| id | username |</span><br><span class="line">		+----+----------+</span><br><span class="line">		|  1 | zs       |</span><br><span class="line">		+----+----------+</span><br><span class="line">		1 row in set (0.00 sec)</span><br><span class="line">	#上面演示的是回滚（rollback）下面演示提交（commit）</span><br><span class="line">		-------------------------------------------------------------------</span><br><span class="line">		mysql&gt; start transaction;</span><br><span class="line">		Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">		mysql&gt; insert into t_user(username) values(&#x27;wangwu&#x27;);</span><br><span class="line">		Query OK, 1 row affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">		mysql&gt; insert into t_user(username) values(&#x27;rose&#x27;);</span><br><span class="line">		Query OK, 1 row affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">		mysql&gt; insert into t_user(username) values(&#x27;jack&#x27;);</span><br><span class="line">		Query OK, 1 row affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">		mysql&gt; select * from t_user;</span><br><span class="line">		+----+----------+</span><br><span class="line">		| id | username |</span><br><span class="line">		+----+----------+</span><br><span class="line">		|  1 | zs       |</span><br><span class="line">		|  4 | wangwu   |</span><br><span class="line">		|  5 | rose     |</span><br><span class="line">		|  6 | jack     |</span><br><span class="line">		+----+----------+</span><br><span class="line">		4 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">		mysql&gt; commit;</span><br><span class="line">		Query OK, 0 rows affected (0.04 sec)</span><br><span class="line"></span><br><span class="line">		mysql&gt; select * from t_user;</span><br><span class="line">		+----+----------+</span><br><span class="line">		| id | username |</span><br><span class="line">		+----+----------+</span><br><span class="line">		|  1 | zs       |</span><br><span class="line">		|  4 | wangwu   |</span><br><span class="line">		|  5 | rose     |</span><br><span class="line">		|  6 | jack     |</span><br><span class="line">		+----+----------+</span><br><span class="line">		4 rows in set (0.00 sec)</span><br><span class="line">		#此时已经提交rollback只能回滚到上次的提交点</span><br><span class="line">		mysql&gt; rollback;</span><br><span class="line">		Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">		mysql&gt; select * from t_user;</span><br><span class="line">		+----+----------+</span><br><span class="line">		| id | username |</span><br><span class="line">		+----+----------+</span><br><span class="line">		|  1 | zs       |</span><br><span class="line">		|  4 | wangwu   |</span><br><span class="line">		|  5 | rose     |</span><br><span class="line">		|  6 | jack     |</span><br><span class="line">		+----+----------+</span><br><span class="line">		4 rows in set (0.00 sec)</span><br><span class="line">		</span><br><span class="line">#打开两个dos窗口演示事物隔离级别的效果</span><br><span class="line">	设置事物的全局隔离级别：</span><br><span class="line">		set global transaction isolation level read uncommited;</span><br><span class="line">	查看事务的全局隔离级别：</span><br><span class="line">		select @@global.tx_isolation;</span><br><span class="line">		</span><br><span class="line">	* 演示两个事务，假如隔离级别</span><br><span class="line">		演示第1级别：读未提交</span><br><span class="line">			set global transaction isolation level read uncommitted;</span><br><span class="line">		演示第2级别：读已提交</span><br><span class="line">			set global transaction isolation level read committed;</span><br><span class="line">		演示第3级别：可重复读</span><br><span class="line">			set global transaction isolation level repeatable read;</span><br><span class="line">		演示第4级别：可重复读</span><br><span class="line">			set global transaction isolation level serializable;</span><br><span class="line">		</span><br><span class="line">	* mysql远程登录：mysql -h192.168.151.18 -uroot -p444</span><br></pre></td></tr></table></figure>

<h3 id="8、索引"><a href="#8、索引" class="headerlink" title="8、索引"></a>8、索引</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">8.1、什么是索引？有什么用？</span><br><span class="line">	索引就相当于一本书的目录，通过目录可以快速的找到对应的资源。</span><br><span class="line">	在数据库方面，查询一张表的时候有两种检索方式：</span><br><span class="line">		第一种方式：全表扫描</span><br><span class="line">		第二种方式：根据索引检索（效率很高）</span><br><span class="line"></span><br><span class="line">	索引为什么可以提高检索效率呢？</span><br><span class="line">		其实最根本的原理是缩小了扫描的范围。</span><br><span class="line">	</span><br><span class="line">	索引虽然可以提高检索效率，但是不能随意的添加索引，因为索引也是数据库当中的对象，也需要数据库不断的维护。是有维护成本的。比如，表中的数据经常被修改，这样就不适合添加索引，因为数据一旦修改，索引需要重新排序，进行维护。</span><br><span class="line"></span><br><span class="line">	添加索引是给某一个字段，或者说某些字段添加索引。</span><br><span class="line">	select ename,sal from emp where ename = &#x27;SMITH&#x27;;</span><br><span class="line">	当ename字段上没有添加索引的时候，以上sql语句会进行全表扫描，扫描ename字段中所有的值。</span><br><span class="line">	当ename字段上添加索引的时候，以上sql语句会根据索引扫描，快速定位。</span><br><span class="line"></span><br><span class="line">8.2、怎么创建索引对象？怎么删除索引对象？</span><br><span class="line">	创建索引对象：</span><br><span class="line">		create index 索引名称 on 表名(字段名);</span><br><span class="line">	删除索引对象：</span><br><span class="line">		drop index 索引名称 on 表名;</span><br><span class="line"></span><br><span class="line">8.3、什么时候考虑给字段添加索引？（满足什么条件）</span><br><span class="line">	* 数据量庞大。（根据客户的需求，根据线上的环境）</span><br><span class="line">	* 该字段很少的DML操作。（因为字段进行修改操作，索引也需要维护）</span><br><span class="line">	* 该字段经常出现在 where子句中。（经常根据哪个字段查询）</span><br><span class="line"></span><br><span class="line">8.4、注意：主键和具有 unique约束的字段自动会添加索引。</span><br><span class="line">	根据主键查询效率较高。尽量根据主键检索。</span><br><span class="line"></span><br><span class="line">8.5、查看sql语句的执行计划：</span><br><span class="line">	mysql&gt; explain select ename,sal from emp where sal = 5000;</span><br><span class="line">	给薪资sal字段添加索引：</span><br><span class="line">	create index emp_sal_index on emp(sal);</span><br><span class="line">	mysql&gt; explain select ename,sal from emp where sal = 5000;</span><br><span class="line">	#加了索引的执行计划和不加索引的执行计划有区别</span><br><span class="line">8.6、索引底层采用的数据结构是：B + Tree</span><br><span class="line"></span><br><span class="line">8.7、索引的实现原理？</span><br><span class="line">	通过B Tree缩小扫描范围，底层索引进行了排序，分区，索引会携带数据在表中的“物理地址”，</span><br><span class="line">	最终通过索引检索到数据之后，获取到关联的物理地址，通过物理地址定位表中的数据，效率</span><br><span class="line">	是最高的。</span><br><span class="line">		select ename from emp where ename = &#x27;SMITH&#x27;;</span><br><span class="line">		通过索引转换为：</span><br><span class="line">		select ename from emp where 物理地址 = 0x3;</span><br><span class="line"></span><br><span class="line">8.8、索引的分类？</span><br><span class="line">	单一索引：给单个字段添加索引</span><br><span class="line">	复合索引: 给多个字段联合起来添加1个索引</span><br><span class="line">	主键索引：主键上会自动添加索引</span><br><span class="line">	唯一索引：有unique约束的字段上会自动添加索引</span><br><span class="line">	....</span><br><span class="line"></span><br><span class="line">8.9、索引什么时候失效？</span><br><span class="line">	select ename from emp where ename like &#x27;%A%&#x27;;</span><br><span class="line">	模糊查询的时候，第一个通配符使用的是%，这个时候索引是失效的。</span><br></pre></td></tr></table></figure>

<h3 id="9、视图-view"><a href="#9、视图-view" class="headerlink" title="9、视图(view)"></a>9、视图(view)</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">9.1、什么是视图？</span><br><span class="line">	站在不同的角度去看到数据。（同一张表的数据，通过不同的角度去看待）。</span><br><span class="line"></span><br><span class="line">9.2、怎么创建视图？怎么删除视图？</span><br><span class="line">	create view myview as select empno,ename from emp;</span><br><span class="line">	drop view myview;</span><br><span class="line">	注意：只有DQL语句才能以视图对象的方式创建出来。</span><br><span class="line"></span><br><span class="line">9.3、对视图进行增删改查，会影响到原表数据。（通过视图影响原表数据的，不是直接操作的原表）</span><br><span class="line">可以对视图进行CRUD操作。</span><br><span class="line"></span><br><span class="line">9.4、面向视图操作？</span><br><span class="line">mysql&gt; select * from myview;</span><br><span class="line">	+-------+--------+</span><br><span class="line">	| empno | ename  |</span><br><span class="line">	+-------+--------+</span><br><span class="line">	|  7369 | SMITH  |</span><br><span class="line">	|  7499 | ALLEN  |</span><br><span class="line">	|  7521 | WARD   |</span><br><span class="line">	|  7566 | JONES  |</span><br><span class="line">	|  7654 | MARTIN |</span><br><span class="line">	|  7698 | BLAKE  |</span><br><span class="line">	|  7782 | CLARK  |</span><br><span class="line">	|  7788 | SCOTT  |</span><br><span class="line">	|  7839 | KING   |</span><br><span class="line">	|  7844 | TURNER |</span><br><span class="line">	|  7876 | ADAMS  |</span><br><span class="line">	|  7900 | JAMES  |</span><br><span class="line">	|  7902 | FORD   |</span><br><span class="line">	|  7934 | MILLER |</span><br><span class="line">	+-------+--------+</span><br><span class="line">create table emp_bak as select * from emp;</span><br><span class="line">create view myview1 as select empno,ename,sal from emp_bak;</span><br><span class="line">update myview1 set ename=&#x27;hehe&#x27;,sal=1 where empno = 7369; # 通过视图修改原表数据。</span><br><span class="line">delete from myview1 where empno = 7369; # 通过视图删除原表数据。</span><br><span class="line"></span><br><span class="line">9.5、视图的作用？</span><br><span class="line">	视图可以隐藏表的实现细节。保密级别较高的系统，数据库只对外提供相关的视图，java程序员只对视图对象进行CRUD。</span><br></pre></td></tr></table></figure>

<h3 id="10、DBA命令（DCL）"><a href="#10、DBA命令（DCL）" class="headerlink" title="10、DBA命令（DCL）"></a>10、DBA命令（DCL）</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">10.1、将数据库当中的数据导出</span><br><span class="line">	在windows的dos命令窗口中执行：（导出整个库）#不是登录到mysql上执行</span><br><span class="line">		mysqldump bjpowernode&gt;D:\bjpowernode.sql -uroot -p333</span><br><span class="line">	</span><br><span class="line">	在windows的dos命令窗口中执行：（导出指定数据库当中的指定表）#不是登录到mysql上执行</span><br><span class="line">		mysqldump bjpowernode emp&gt;D:\bjpowernode.sql -uroot –p123</span><br><span class="line">	#导出的是sql脚本，可以将这个sql脚本执行创建一个一模一样的表</span><br><span class="line">10.2、导入数据</span><br><span class="line">	create database bjpowernode;</span><br><span class="line">	use bjpowernode;</span><br><span class="line">	source D:\bjpowernode.sql</span><br></pre></td></tr></table></figure>

<h3 id="11、数据库设计三范式（重点内容，面试经常问）"><a href="#11、数据库设计三范式（重点内容，面试经常问）" class="headerlink" title="11、数据库设计三范式（重点内容，面试经常问）"></a>11、数据库设计三范式（重点内容，面试经常问）</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line">11.1、什么是设计范式？</span><br><span class="line">	设计表的依据。按照这个三范式设计的表不会出现数据冗余。</span><br><span class="line"></span><br><span class="line">11.2、三范式都是哪些？</span><br><span class="line"></span><br><span class="line">	第一范式：任何一张表都应该有主键，并且每一个字段原子性不可再分。</span><br><span class="line">	第二范式：建立在第一范式的基础之上，所有非主键字段完全依赖主键，不能产生部分依赖。</span><br><span class="line">********处理多对多情况？使用三张表，第三张表示关系表，关系表中有两个外键。********</span><br><span class="line">		t_student学生表</span><br><span class="line">		sno(pk)		sname</span><br><span class="line">		-------------------</span><br><span class="line">		1				张三</span><br><span class="line">		2				李四</span><br><span class="line">		3				王五</span><br><span class="line"></span><br><span class="line">		t_teacher 讲师表</span><br><span class="line">		tno(pk)		tname</span><br><span class="line">		---------------------</span><br><span class="line">		1				王老师</span><br><span class="line">		2				张老师</span><br><span class="line">		3				李老师</span><br><span class="line"></span><br><span class="line">		t_student_teacher_relation 学生讲师关系表</span><br><span class="line">		id(pk)		sno(fk)		tno(fk)</span><br><span class="line">		----------------------------------</span><br><span class="line">		1				1				3</span><br><span class="line">		2				1				1</span><br><span class="line">		3				2				2</span><br><span class="line">		4				2				3</span><br><span class="line">		5				3				1</span><br><span class="line">		6				3				3</span><br><span class="line">	</span><br><span class="line">	第三范式：建立在第二范式的基础之上，所有非主键字段直接依赖主键，不能产生传递依赖。</span><br><span class="line">		一对多？两张表，（一对多中）多对应的那个表加外键。</span><br><span class="line">		#下面班级和学生是一对多的关系，所以学生表对应的是多，所以学生表加外键</span><br><span class="line">		班级t_class</span><br><span class="line">		cno(pk)			cname</span><br><span class="line">		--------------------------</span><br><span class="line">		1					班级1</span><br><span class="line">		2					班级2</span><br><span class="line"></span><br><span class="line">		学生t_student</span><br><span class="line">		sno(pk)			sname				classno(fk)</span><br><span class="line">		---------------------------------------------</span><br><span class="line">		101				张1				1</span><br><span class="line">		102				张2				1</span><br><span class="line">		103				张3				2</span><br><span class="line">		104				张4				2</span><br><span class="line">		105				张5				2</span><br><span class="line">	</span><br><span class="line">	提醒：在实际的开发中，以满足客户的需求为主，有的时候会拿冗余换执行速度。</span><br><span class="line"></span><br><span class="line">11.3、一对一怎么设计？</span><br><span class="line"></span><br><span class="line">	一对一设计有两种方案：1.主键共享(pk + fk)</span><br><span class="line">		t_user_login  用户登录表</span><br><span class="line">		id(pk)		username			password</span><br><span class="line">		--------------------------------------</span><br><span class="line">		1				zs					123</span><br><span class="line">		2				ls					456</span><br><span class="line"></span><br><span class="line">		t_user_detail 用户详细信息表</span><br><span class="line">		id(pk+fk)	realname			tel			....</span><br><span class="line">		------------------------------------------------</span><br><span class="line">		1				张三				1111111111</span><br><span class="line">		2				李四				1111415621</span><br><span class="line"></span><br><span class="line">	一对一设计有两种方案：2.外键唯一(unique)。</span><br><span class="line">		t_user_login  用户登录表</span><br><span class="line">		id(pk)		username			password</span><br><span class="line">		--------------------------------------</span><br><span class="line">		1				zs					123</span><br><span class="line">		2				ls					456</span><br><span class="line"></span><br><span class="line">		t_user_detail 用户详细信息表</span><br><span class="line">		id(pk)		realname	 tel			 userid(fk+unique)....</span><br><span class="line">		-----------------------------------------------------------</span><br><span class="line">		1			张三			1111111111		2</span><br><span class="line">		2			李四			1111415621		1</span><br></pre></td></tr></table></figure>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a target="_blank" rel="noopener" href="http://github.com/probberechts">Projects</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#MySQL%E7%AC%94%E8%AE%B0"><span class="toc-number">1.</span> <span class="toc-text">MySQL笔记</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81sql%E3%80%81DB%E3%80%81DBMS%EF%BC%9F"><span class="toc-number">1.0.1.</span> <span class="toc-text">1、sql、DB、DBMS？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AF%E8%A1%A8%EF%BC%9F"><span class="toc-number">1.0.2.</span> <span class="toc-text">2、什么是表？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81SQL%E8%AF%AD%E5%8F%A5%E5%88%86%E7%B1%BB"><span class="toc-number">1.0.3.</span> <span class="toc-text">3、SQL语句分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81MySQL%E5%91%BD%E4%BB%A4"><span class="toc-number">1.0.4.</span> <span class="toc-text">4、MySQL命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E3%80%81%E5%AF%BC%E5%85%A5%E6%95%B0%E6%8D%AE"><span class="toc-number">1.0.4.1.</span> <span class="toc-text">1、导入数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%E3%80%81sql%E8%84%9A%E6%9C%AC"><span class="toc-number">1.0.4.2.</span> <span class="toc-text">2、sql脚本</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%E3%80%81%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">1.0.4.3.</span> <span class="toc-text">3、删除数据库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4%E3%80%81%E6%9F%A5%E7%9C%8B%E8%A1%A8%E7%BB%93%E6%9E%84%EF%BC%9A"><span class="toc-number">1.0.4.4.</span> <span class="toc-text">4、查看表结构：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5%E3%80%81%E8%A1%A8%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%EF%BC%9F"><span class="toc-number">1.0.4.5.</span> <span class="toc-text">5、表中的数据？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6%E3%80%81%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%EF%BC%9F"><span class="toc-number">1.0.4.6.</span> <span class="toc-text">6、常用命令？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7%E3%80%81%E6%9F%A5%E7%9C%8B%E5%88%9B%E5%BB%BA%E8%A1%A8%E7%9A%84%E8%AF%AD%E5%8F%A5%EF%BC%9A"><span class="toc-number">1.0.4.7.</span> <span class="toc-text">7、查看创建表的语句：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%E3%80%81SQL%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.0.5.</span> <span class="toc-text">5、SQL语句</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5-1%E3%80%81%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2%E8%AF%AD%E5%8F%A5%EF%BC%88DQL%EF%BC%89"><span class="toc-number">1.0.5.1.</span> <span class="toc-text">5.1、数据查询语句（DQL）</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81%E7%AE%80%E5%8D%95%E7%9A%84%E6%9F%A5%E8%AF%A2%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.0.5.1.1.</span> <span class="toc-text">1、简单的查询语句</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2%E3%80%82"><span class="toc-number">1.0.5.1.2.</span> <span class="toc-text">2、条件查询。</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81%E6%8E%92%E5%BA%8F%EF%BC%88%E5%8D%87%E5%BA%8F%E3%80%81%E9%99%8D%E5%BA%8F%EF%BC%89"><span class="toc-number">1.0.5.1.3.</span> <span class="toc-text">3、排序（升序、降序）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%E3%80%81%E5%88%86%E7%BB%84%E5%87%BD%E6%95%B0"><span class="toc-number">1.0.5.1.4.</span> <span class="toc-text">4、分组函数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5%E3%80%81%E5%8D%95%E8%A1%8C%E5%A4%84%E7%90%86%E5%87%BD%E6%95%B0"><span class="toc-number">1.0.5.1.5.</span> <span class="toc-text">5、单行处理函数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6%E3%80%81group-by-%E5%92%8C-having"><span class="toc-number">1.0.5.1.6.</span> <span class="toc-text">6、group by 和 having</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#7%E3%80%81%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%AA%E5%AE%8C%E6%95%B4%E7%9A%84DQL%E8%AF%AD%E5%8F%A5%E6%80%8E%E4%B9%88%E5%86%99%EF%BC%9F"><span class="toc-number">1.0.5.1.7.</span> <span class="toc-text">7、总结一个完整的DQL语句怎么写？</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#8%E3%80%81%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%E9%9B%86%E5%8E%BB%E9%87%8D"><span class="toc-number">1.0.5.1.8.</span> <span class="toc-text">8、查询结果集去重</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#9%E3%80%81%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.0.5.1.9.</span> <span class="toc-text">9、连接查询</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#10%E3%80%81%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.0.5.1.10.</span> <span class="toc-text">10、子查询</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#11%E3%80%81union"><span class="toc-number">1.0.5.1.11.</span> <span class="toc-text">11、union</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#12%E3%80%81limit-%EF%BC%88%E9%87%8D%E7%82%B9%EF%BC%89"><span class="toc-number">1.0.5.1.12.</span> <span class="toc-text">12、limit （重点）</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-2%E3%80%81%E6%95%B0%E6%8D%AE%E5%AE%9A%E4%B9%89%E8%AF%AD%E8%A8%80%EF%BC%88DDL%EF%BC%89"><span class="toc-number">1.0.5.2.</span> <span class="toc-text">5.2、数据定义语言（DDL）</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81%E5%88%9B%E5%BB%BA%E8%A1%A8"><span class="toc-number">1.0.5.2.1.</span> <span class="toc-text">1、创建表</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81%E5%AF%B9%E4%BA%8E%E8%A1%A8%E7%BB%93%E6%9E%84%E7%9A%84%E4%BF%AE%E6%94%B9"><span class="toc-number">1.0.5.2.2.</span> <span class="toc-text">2、对于表结构的修改</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81%E7%BA%A6%E6%9D%9F-Constraint"><span class="toc-number">1.0.5.2.3.</span> <span class="toc-text">3、约束(Constraint)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%E3%80%81%E5%88%A0%E9%99%A4%E8%A1%A8"><span class="toc-number">1.0.5.2.4.</span> <span class="toc-text">4、删除表</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-3%E3%80%81%E6%95%B0%E6%8D%AE%E6%93%8D%E4%BD%9C%E8%AF%AD%E8%A8%80%EF%BC%88DML%EF%BC%89"><span class="toc-number">1.0.5.3.</span> <span class="toc-text">5.3、数据操作语言（DML）</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81insert%E8%AF%AD%E5%8F%A5%E6%8F%92%E5%85%A5%E6%95%B0%E6%8D%AE"><span class="toc-number">1.0.5.3.1.</span> <span class="toc-text">1、insert语句插入数据</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81%E8%A1%A8%E7%9A%84%E5%A4%8D%E5%88%B6"><span class="toc-number">1.0.5.3.2.</span> <span class="toc-text">2、表的复制</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81%E5%B0%86%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%E6%8F%92%E5%85%A5%E5%88%B0%E4%B8%80%E5%BC%A0%E8%A1%A8%E4%B8%AD"><span class="toc-number">1.0.5.3.3.</span> <span class="toc-text">3、将查询结果插入到一张表中</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%E3%80%81%E4%BF%AE%E6%94%B9%E6%95%B0%E6%8D%AE%EF%BC%9Aupdate"><span class="toc-number">1.0.5.3.4.</span> <span class="toc-text">4、修改数据：update</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5%E3%80%81%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE"><span class="toc-number">1.0.5.3.5.</span> <span class="toc-text">5、删除数据</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6%E3%80%81%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E%EF%BC%88%E4%BA%86%E8%A7%A3%E5%86%85%E5%AE%B9%EF%BC%89"><span class="toc-number">1.0.6.</span> <span class="toc-text">6、存储引擎（了解内容）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#6-1%E3%80%81%E9%9D%A2%E8%AF%95%E9%A2%98"><span class="toc-number">1.0.6.1.</span> <span class="toc-text">6.1、面试题</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7%E3%80%81%E4%BA%8B%E5%8A%A1%EF%BC%88Transaction%EF%BC%89"><span class="toc-number">1.0.7.</span> <span class="toc-text">7、事务（Transaction）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8%E3%80%81%E7%B4%A2%E5%BC%95"><span class="toc-number">1.0.8.</span> <span class="toc-text">8、索引</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9%E3%80%81%E8%A7%86%E5%9B%BE-view"><span class="toc-number">1.0.9.</span> <span class="toc-text">9、视图(view)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10%E3%80%81DBA%E5%91%BD%E4%BB%A4%EF%BC%88DCL%EF%BC%89"><span class="toc-number">1.0.10.</span> <span class="toc-text">10、DBA命令（DCL）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E4%B8%89%E8%8C%83%E5%BC%8F%EF%BC%88%E9%87%8D%E7%82%B9%E5%86%85%E5%AE%B9%EF%BC%8C%E9%9D%A2%E8%AF%95%E7%BB%8F%E5%B8%B8%E9%97%AE%EF%BC%89"><span class="toc-number">1.0.11.</span> <span class="toc-text">11、数据库设计三范式（重点内容，面试经常问）</span></a></li></ol></li></ol></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://yoursite.com/2021/02/16/MySQL%E7%AC%94%E8%AE%B0/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://yoursite.com/2021/02/16/MySQL%E7%AC%94%E8%AE%B0/&text=MySQL学习笔记"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://yoursite.com/2021/02/16/MySQL%E7%AC%94%E8%AE%B0/&title=MySQL学习笔记"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://yoursite.com/2021/02/16/MySQL%E7%AC%94%E8%AE%B0/&is_video=false&description=MySQL学习笔记"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=MySQL学习笔记&body=Check out this article: http://yoursite.com/2021/02/16/MySQL%E7%AC%94%E8%AE%B0/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://yoursite.com/2021/02/16/MySQL%E7%AC%94%E8%AE%B0/&title=MySQL学习笔记"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://yoursite.com/2021/02/16/MySQL%E7%AC%94%E8%AE%B0/&title=MySQL学习笔记"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://yoursite.com/2021/02/16/MySQL%E7%AC%94%E8%AE%B0/&title=MySQL学习笔记"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://yoursite.com/2021/02/16/MySQL%E7%AC%94%E8%AE%B0/&title=MySQL学习笔记"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://yoursite.com/2021/02/16/MySQL%E7%AC%94%E8%AE%B0/&name=MySQL学习笔记&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://yoursite.com/2021/02/16/MySQL%E7%AC%94%E8%AE%B0/&t=MySQL学习笔记"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2016-2022
    ZSH
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/about/">About</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="http://github.com/probberechts">Projects</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->
 
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script> 




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script> 
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Umami Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

</body>
</html>
